{"version":3,"sources":["components/Container/style.module.css","pages/Main/components/Notifications/style.module.css","components/Form/style.module.css","pages/CreateProposal/style.module.css","components/Container/Container.tsx","httpClient.ts","utils/index.ts","pages/Main/actions.ts","pages/Main/actionTypes.ts","pages/Profile/actionTypes.ts","pages/Main/reducer.ts","pages/Proposals/actionTypes.ts","pages/Proposals/reducer.ts","pages/Proposal/actionTypes.ts","pages/Proposal/reducer.ts","pages/Profile/reducer.ts","rootReducer.ts","store.ts","pages/Main/components/Notification/Notification.tsx","pages/Main/components/Notifications/Notifications.tsx","components/Title/Title.tsx","components/Paragraph/Paragraph.tsx","components/Input/Input.tsx","components/Button/Button.tsx","pages/SignIn/components/google/Google.tsx","hooks/useForm.ts","constants/constraints.ts","pages/SignIn/SignIn.tsx","pages/SignIn/actions.ts","pages/SignUp/SignUp.tsx","pages/SignUp/actions.ts","components/Icon/Icon.tsx","components/Like/Like.tsx","components/Dislike/Dislike.tsx","pages/Proposals/component/Comment/Comment.tsx","components/Tag/Tag.tsx","pages/Proposals/component/Proposal/Proposal.tsx","pages/Proposals/Proposals.tsx","pages/Proposals/actions.ts","components/Uploader/components/PreviewItem/PreviewItem.tsx","components/Uploader/Uploader.tsx","components/Form/Form.tsx","components/Textarea/Textarea.tsx","components/TagInput/TagInput.tsx","pages/CreateProposal/CreateProposal.tsx","pages/Proposal/actions.ts","components/Avatar/Avatar.tsx","pages/Proposal/components/Comment/Comment.tsx","components/TextareaWithFormatting/TextareaWithFormatting.tsx","pages/Proposal/components/CreateCommentForm/CreateCommentForm.tsx","components/Protected/Protected.tsx","pages/Proposal/components/Details/Details.tsx","pages/Proposal/Proposal.tsx","pages/Profile/components/ViewProfile/ViewProfile.tsx","pages/Profile/components/EditProfile/EditProfile.tsx","pages/Profile/actions.ts","pages/Profile/Profile.tsx","constants/routes.ts","pages/Main/components/Header/Header.tsx","pages/Main/Main.tsx","reportWebVitals.ts","index.tsx","pages/Main/components/Header/style.module.css","components/Textarea/style.module.css","components/Title/style.module.css","pages/SignIn/style.module.css","components/Uploader/style.module.css","components/Avatar/style.module.css","components/Dislike/style.module.css","pages/Main/components/Notification/style.module.css","components/TagInput/style.module.css","pages/Proposal/components/Comment/style.module.css","pages/Proposal/components/Details/style.module.css","pages/Profile/style.module.css","components/Paragraph/style.module.css","components/Input/style.module.css","pages/Proposals/component/Proposal/style.module.css","components/Button/style.module.css","components/Like/style.module.css","components/Tag/style.module.css","pages/Proposals/style.module.css","components/Uploader/components/PreviewItem/style.module.css","pages/Proposal/style.module.css","pages/Profile/components/ViewProfile/style.module.css"],"names":["module","exports","Container","children","className","classNames","container","accessTokenStore","accessToken","initialized","setToken","token","getToken","init","isInitialized","axios","interceptors","request","use","config","error","Promise","reject","response","data","a","err","store","dispatch","notification","type","text","message","ADD_NOTIFICATION","payload","id","nanoid","HttpClient","withAccessToken","headers","this","getAccessToken","url","requiredAuthorization","getHeaders","get","then","res","body","post","console","GET_TAGS","REMOVE_NOTIFICATION","GET_USER_PROFILE","GET_VIEW_PROFILE","RESET_VIEW_PROFILE","initialState","tags","notifications","mainReducer","state","action","notificationsClone","Array","from","notificationIndex","findIndex","splice","GET_PROPOSALS","LIKE_PROPOSAL","DISLIKE_PROPOSAL","RESET_PROPOSALS","proposalsReducer","targetIndex","proposal","GET_PROPOSAL","SET_PROPOSAL","LEAVE_COMMENT","LIKE_COMMENT","DISLIKE_COMMENT","RESET_PROPOSAL","proposalReducer","comments","userProfile","viewProfile","profileReducer","rootReducer","combineReducers","main","proposals","profile","composeEnhancers","window","compose","createStore","applyMiddleware","thunk","formatDateTime","dateTime","Intl","DateTimeFormat","undefined","year","month","day","hour","minute","format","Date","classNamesCombiner","combiner","Object","entries","reduce","combinedClassName","combine","Notification","ref","useRef","useDispatch","onRemove","useCallback","removeNotification","useEffect","setTimeout","current","classList","add","disappear","addEventListener","once","Notifications","useSelector","map","Title","level","h1","h2","h3","h4","h5","h6","Paragraph","style","size","onClick","paragraph","medium","small","Boolean","Input","label","value","multiple","required","minLength","maxLength","onChange","wrapper","input","e","target","Button","fullWidth","disabled","button","Google","onSignIn","googleUser","getBasicProfile","log","getId","getName","getImageUrl","getEmail","useForm","params","formData","FormData","handleInput","field","stringValue","fileListValue","param","fileList","i","length","file","item","append","setAttachmentsToFormData","title","has","set","setDataToFormData","setter","reset","user","SignIn","useState","login","setLogin","password","to","onSubmit","preventDefault","signIn","form","userConstraints","routes","signUp","path","SignUp","Icon","icon","fontSize","Like","liked","quantity","like","opacity","Dislike","disliked","dislike","Comment","Tag","tag","active","Proposal","description","isLiked","likes","isDisliked","dislikes","commentsQuantity","actions","slice","Proposals","proposalId","likeProposal","dislikeProposal","proposalWrapper","getLinkPath","PreviewItem","objectURL","URL","createObjectURL","previewItem","src","previewImage","alt","name","Uploader","previewFiles","setPreviewFiles","previewItems","imgs","img","push","renderPreview","uploader","uploadZone","files","preview","Form","Textarea","textarea","rows","TagInput","setTag","onKeyPress","code","index","cloneTags","deleteTag","deleteTagIcon","CreateProposal","setTitle","setDescription","setTags","proposalParams","JSON","stringify","Avatar","onEdit","avatar","uploaderOverlay","comment","onLikeComment","onDislikeComment","onReplyTo","author","createDate","meta","username","TextareaWithFormatting","initialEditorState","ContentState","createFromText","EditorState","createWithContent","editorState","setEditorState","handleChange","currentContentState","getCurrentContent","block","convertToRaw","blocks","formattedText","inlineStyleRanges","forEach","cur","start","offset","end","getPlainText","RichUtils","toggleInlineStyle","toggleCode","handleKeyCommand","command","newState","CreateCommentForm","onCreate","commentText","Protected","Details","details","useParams","parentCommentId","setParentCommentId","getProposal","Number","likeComment","commentId","likeCommentAction","dislikeComment","dislikeCommentAction","onSubmitCreateCommentForm","commentParams","toString","ViewProfile","EditProfile","setUsername","settings","Profile","isUserProfile","getViewProfile","component","exact","createProposal","replace","String","defaultRoute","Header","pathname","useLocation","onSignOut","isUserAuthorized","header","titles","links","link","Main","values","route","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.6bb0438d.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"style_container__2UoK1\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"notifications\":\"style_notifications__2XV8j\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"style_form__17lpq\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"style_container__2FANF\"};","import React, {FC} from \"react\";\n\nimport classNames from \"./style.module.css\";\n\nconst Container: FC = ({children}) => {\n    return (\n        <div className={classNames.container}>\n            {children}\n        </div>\n    );\n};\n\nexport default Container;","import axios, {AxiosError, AxiosResponse} from \"axios\";\nimport {handleNetworkError} from \"./utils\";\n\nexport const accessTokenStore = (function () {\n    let accessToken = \"\";\n    let initialized = false;\n    return {\n        setToken: function (token: string) {\n            accessToken = token;\n        },\n        getToken: function () {\n            return accessToken;\n        },\n        init: function () {\n            initialized = true;\n        },\n        isInitialized: function () {\n            return initialized;\n        }\n    }\n})();\n\naxios.interceptors.request.use(\n    config => {\n\n        return config;\n    },\n    error => {\n\n        return Promise.reject(error);\n    });\n\naxios.interceptors.response.use(\n    response => {\n        if (response.data.accessToken) accessTokenStore.setToken(response.data.accessToken);\n        return response;\n    },\n    async (error: AxiosError) => {\n        handleNetworkError(error);\n        // if (error.response && error.response.status === 401 && !accessTokenStore.isInitialized()) {\n        //     accessTokenStore.init();\n        //     await HttpClient.getAccessToken();\n        //     return axios.request(error.response.config);\n        // }\n        return Promise.reject(error);\n    });\n\nexport default class HttpClient {\n    private static async getHeaders(withAccessToken: boolean) {\n        let headers = {};\n        if (withAccessToken) {\n            let accessToken = accessTokenStore.getToken();\n            if (!accessToken) accessToken = await this.getAccessToken();\n            headers = {...headers, \"Authorization\": accessToken};\n        }\n        return headers;\n    }\n\n    static async get<T>(url: string, requiredAuthorization: boolean = false) {\n        const headers = await this.getHeaders(requiredAuthorization);\n        return axios.get(url, {headers}).then((res: AxiosResponse<T>) => res.data);\n    }\n\n    static async post<T>(url: string, body: object, requiredAuthorization: boolean = false) {\n        const headers = await this.getHeaders(requiredAuthorization);\n        return axios.post(url, body, {headers}).then((res: AxiosResponse<T>) => res.data);\n    }\n\n    static async getAccessToken() {\n        try {\n            const request: AxiosResponse<{ accessToken: string }> = await axios.get(\"/api/user/access-token\");\n            return request.data.accessToken;\n        } catch (err) {\n            console.error(err);\n            return \"\";\n        }\n    }\n}","import {AxiosError} from \"axios\";\nimport {addNotification} from \"../pages/Main/actions\";\nimport {store} from \"../store\";\n\nexport function formatDateTime(dateTime: string) {\n    const dateTimeFormat: Record<string, \"numeric\"> = {\n        year: \"numeric\",\n        month: \"numeric\",\n        day: \"numeric\",\n        hour: \"numeric\",\n        minute: \"numeric\"\n    };\n    return new Intl.DateTimeFormat(undefined, dateTimeFormat).format(new Date(dateTime));\n}\n\ntype Combiner = {\n    [className: string]: boolean\n}\n\nexport function classNamesCombiner(combiner: Combiner) {\n    return Object.entries(combiner).reduce((combinedClassName, combine) => {\n        const [className, active] = combine;\n        if (active) combinedClassName += ` ${className}`;\n        return combinedClassName;\n    }, '');\n}\n\nexport function handleNetworkError(err: AxiosError) {\n    store.dispatch(addNotification({type: 'error', text: err.message}))\n}","import {Dispatch} from \"redux\";\nimport {nanoid} from \"nanoid\";\n\nimport HttpClient from \"../../httpClient\";\nimport {ADD_NOTIFICATION, GET_TAGS, REMOVE_NOTIFICATION} from \"./actionTypes\";\nimport {ITag} from \"../../types/IProposal\";\nimport {AddNotificationAction, GetTagsAction, RemoveNotificationAction, SignOutAction} from \"./types\";\nimport {GET_USER_PROFILE} from \"../Profile/actionTypes\";\nimport {INotification} from \"../../types/INotification\";\n\nexport const getTags = () => async (dispatch: Dispatch<GetTagsAction>) => {\n    try {\n        const tags = await HttpClient.get<ITag[]>(\"/api/proposals/tags\");\n        dispatch({type: GET_TAGS, payload: tags});\n    } catch (err) {\n        console.error(err);\n    }\n}\n\nexport const signOut = () => async (dispatch: Dispatch<SignOutAction>) => {\n    try {\n        await HttpClient.get<ITag[]>(\"/api/user/sign-out\");\n        dispatch({type: GET_USER_PROFILE, payload: null});\n    } catch (err) {\n        console.error(err);\n    }\n}\n\nexport const addNotification = (notification: Omit<INotification, \"id\">): AddNotificationAction => ({\n    type: ADD_NOTIFICATION,\n    payload: {...notification, id: nanoid()}\n});\n\nexport const removeNotification = (id: INotification[\"id\"]): RemoveNotificationAction => ({\n    type: REMOVE_NOTIFICATION,\n    payload: id\n});","export const GET_TAGS = 'main/getTags';\nexport const ADD_NOTIFICATION = 'main/addNotification';\nexport const REMOVE_NOTIFICATION = 'main/removeNotification';","export const GET_USER_PROFILE = 'profile/getUserProfile';\nexport const GET_VIEW_PROFILE = 'profile/getViewProfile';\nexport const RESET_VIEW_PROFILE = 'profile/resetViewProfile';","import {MainActionTypes, MainState} from \"./types\";\nimport {GET_TAGS, ADD_NOTIFICATION, REMOVE_NOTIFICATION} from \"./actionTypes\";\n\nconst initialState: MainState = {\n    tags: [],\n    notifications: []\n}\n\nconst mainReducer = (state = initialState, action: MainActionTypes): MainState => {\n    switch (action.type) {\n        case GET_TAGS: {\n            return {\n                ...state,\n                tags: action.payload\n            }\n        }\n        case ADD_NOTIFICATION: {\n            return {\n                ...state,\n                notifications: [...state.notifications, action.payload]\n            }\n        }\n        case REMOVE_NOTIFICATION: {\n            const notificationsClone = Array.from(state.notifications);\n            const notificationIndex = notificationsClone.findIndex(notification => notification.id === action.payload);\n            notificationsClone.splice(notificationIndex, 1);\n            return {\n                ...state,\n                notifications: notificationsClone\n            }\n        }\n        default:\n            return state;\n    }\n}\n\nexport default mainReducer;","export const GET_PROPOSALS = 'proposals/getProposals';\nexport const LIKE_PROPOSAL = 'proposals/likeProposal';\nexport const DISLIKE_PROPOSAL = 'proposals/dislikeProposal';\nexport const RESET_PROPOSALS = 'proposals/reset';","import {ProposalsActionTypes, ProposalsState} from \"./types\";\nimport {DISLIKE_PROPOSAL, GET_PROPOSALS, LIKE_PROPOSAL, RESET_PROPOSALS} from \"./actionTypes\";\n\nconst initialState: ProposalsState = {\n    data: []\n}\n\nconst proposalsReducer = (state = initialState, action: ProposalsActionTypes): ProposalsState => {\n    switch (action.type) {\n        case GET_PROPOSALS:\n            return {\n                ...state,\n                data: action.payload\n            }\n        case LIKE_PROPOSAL:\n        case DISLIKE_PROPOSAL: {\n            const targetIndex = state.data.findIndex(proposal => proposal.id === action.payload.id);\n            const data = [...state.data];\n            data[targetIndex] = action.payload;\n            return {\n                ...state,\n                data\n            }\n        }\n        case RESET_PROPOSALS:\n            return {...initialState};\n        default:\n            return state;\n    }\n}\n\nexport default proposalsReducer;","export const GET_PROPOSAL = 'proposal/getProposal';\nexport const SET_PROPOSAL = 'proposal/setProposal';\nexport const LEAVE_COMMENT = 'proposal/leaveComment';\nexport const LIKE_COMMENT = 'proposal/likeComment';\nexport const DISLIKE_COMMENT = 'proposal/dislikeComment';\nexport const RESET_PROPOSAL = 'proposal/reset';","import {MainActionTypes, ProposalState} from \"./types\";\nimport {DISLIKE_COMMENT, GET_PROPOSAL, LEAVE_COMMENT, LIKE_COMMENT, RESET_PROPOSAL, SET_PROPOSAL} from \"./actionTypes\";\n\nconst initialState: ProposalState = {\n    data: null\n}\n\nconst proposalReducer = (state = initialState, action: MainActionTypes): ProposalState => {\n    switch (action.type) {\n        case GET_PROPOSAL:\n        case SET_PROPOSAL:\n            return {\n                ...state,\n                data: action.payload\n            }\n        case LEAVE_COMMENT:\n        case LIKE_COMMENT:\n        case DISLIKE_COMMENT:\n            if (state.data !== null) {\n                return {\n                    ...state,\n                    data: {\n                        ...state.data,\n                        comments: action.payload\n                    }\n                }\n            }\n            return {...state};\n        case RESET_PROPOSAL:\n            return {...initialState};\n        default:\n            return state;\n    }\n}\n\nexport default proposalReducer;","import {ProfileActionTypes, ProfileState} from \"./types\";\nimport {GET_USER_PROFILE, GET_VIEW_PROFILE, RESET_VIEW_PROFILE} from \"./actionTypes\";\n\nconst initialState: ProfileState = {\n    userProfile: null,\n    viewProfile: null\n}\n\nconst profileReducer = (state = initialState, action: ProfileActionTypes): ProfileState => {\n    switch (action.type) {\n        case GET_USER_PROFILE: {\n            return {\n                ...state,\n                userProfile: action.payload !== null ? {...action.payload} : null\n            }\n        }\n        case GET_VIEW_PROFILE: {\n            return {\n                ...state,\n                viewProfile: action.payload !== null ? {...action.payload} : null\n            }\n        }\n        case RESET_VIEW_PROFILE: {\n            return {\n                ...state,\n                viewProfile: null\n            }\n        }\n        default:\n            return state;\n    }\n}\n\nexport default profileReducer;","import {combineReducers} from \"redux\";\n\nimport mainReducer from \"./pages/Main/reducer\";\nimport proposalsReducer from \"./pages/Proposals/reducer\";\nimport proposalReducer from \"./pages/Proposal/reducer\";\nimport profileReducer from \"./pages/Profile/reducer\";\n\nexport const rootReducer = combineReducers({\n    main: mainReducer,\n    proposals: proposalsReducer,\n    proposal: proposalReducer,\n    profile: profileReducer\n});\n\ndeclare global {\n    type RootState = ReturnType<typeof rootReducer>;\n}","import {applyMiddleware, compose, createStore} from \"redux\";\nimport thunk from \"redux-thunk\";\n\nimport {rootReducer} from \"./rootReducer\";\n\nconst composeEnhancers = (window as any)['__REDUX_DEVTOOLS_EXTENSION_COMPOSE__'] || compose;\nexport const store = createStore(rootReducer, composeEnhancers((applyMiddleware(thunk))));","import React, {FC, MutableRefObject, useCallback, useEffect, useRef} from 'react';\nimport {useDispatch} from \"react-redux\";\n\nimport {INotification} from \"../../../../types/INotification\";\nimport {classNamesCombiner} from \"../../../../utils\";\nimport {removeNotification} from \"../../actions\";\nimport classNames from './style.module.css';\n\nconst TIMEOUT = 5000;\n\nconst Notification: FC<INotification> = ({id, type, text}) => {\n    const className = classNamesCombiner({\n        [classNames.notification]: true,\n        [classNames.error]: type === 'error',\n        [classNames.message]: type === 'message',\n    })\n    const ref = useRef() as MutableRefObject<HTMLDivElement>;\n    const dispatch = useDispatch();\n    const onRemove = useCallback(() => {\n        dispatch(removeNotification(id));\n    }, [dispatch, id]);\n    useEffect(() => {\n        setTimeout(() => {\n            ref.current.classList.add(classNames.disappear);\n            ref.current.addEventListener('animationend', onRemove, {once: true});\n        }, TIMEOUT);\n    }, [dispatch, onRemove])\n    return (\n        <div className={className} ref={ref}>\n            {text}\n        </div>\n    );\n};\n\nexport default Notification;","import React, {FC} from \"react\";\nimport {useSelector} from \"react-redux\";\n\nimport Notification from \"../Notification/Notification\";\nimport classNames from \"./style.module.css\";\n\nconst Notifications: FC = () => {\n    const notifications = useSelector((state: RootState) => state.main.notifications);\n\n    return (\n        <div className={classNames.notifications}>\n            {notifications.map(notification => <Notification key={notification.id}\n                                                             id={notification.id}\n                                                             type={notification.type}\n                                                             text={notification.text}/>)}\n        </div>\n    );\n};\n\nexport default Notifications;","import React, {FC} from 'react';\n\nimport classNames from './style.module.css';\n\ninterface ITitle {\n    level: 1 | 2 | 3 | 4 | 5 | 6\n}\n\nconst Title: FC<ITitle> = ({level, children}) => {\n    switch (level) {\n        case 1:\n            return <h1 className={classNames.h1}>{children}</h1>\n        case 2:\n            return <h2 className={classNames.h2}>{children}</h2>\n        case 3:\n            return <h3 className={classNames.h3}>{children}</h3>\n        case 4:\n            return <h4 className={classNames.h4}>{children}</h4>\n        case 5:\n            return <h5 className={classNames.h5}>{children}</h5>\n        case 6:\n            return <h6 className={classNames.h6}>{children}</h6>\n        default:\n            return null\n    }\n};\n\nexport default Title;","import React, {FC, MouseEvent, CSSProperties} from \"react\";\n\nimport classNames from './style.module.css';\nimport {classNamesCombiner} from \"../../utils\";\n\ninterface IParagraph {\n    className?: string;\n    size: \"m\" | \"s\";\n    onClick?: (e: MouseEvent) => void;\n    style?: CSSProperties\n}\n\nconst Paragraph: FC<IParagraph> = ({\n                                       className,\n                                       style,\n                                       size,\n                                       onClick,\n                                       children\n                                   }) => {\n    const combinedClassName = classNamesCombiner({\n        [classNames.paragraph]: true,\n        [classNames.medium]: size === \"m\",\n        [classNames.small]: size === \"s\",\n        [className || '']: Boolean(className),\n    });\n    return (\n        <p className={combinedClassName} style={style} onClick={onClick}>\n            {children}\n        </p>\n    );\n};\n\nexport default Paragraph;","import React, {FC, ChangeEvent} from \"react\";\n\nimport classNames from './style.module.css';\n\ninterface IInput {\n    label: string;\n    type?: string;\n    value: string;\n    multiple?: boolean;\n    required?: boolean;\n    minLength?: number;\n    maxLength?: number;\n    onChange: (value: string) => void;\n}\n\nconst Input: FC<IInput> = ({\n                               label,\n                               type = \"text\",\n                               value,\n                               multiple,\n                               required,\n                               minLength,\n                               maxLength,\n                               onChange\n                           }) => {\n    const handleOnChange = (e: ChangeEvent) => {\n        const value = (e.target as HTMLInputElement).value;\n        onChange(value);\n    }\n    return (\n        <label className={classNames.wrapper}>\n            <span className={classNames.label}>{label}</span>\n            <input type={type}\n                   value={value}\n                   multiple={multiple}\n                   required={required}\n                   minLength={minLength}\n                   maxLength={maxLength}\n                   className={classNames.input}\n                   onChange={handleOnChange}/>\n        </label>\n\n    );\n};\n\nexport default Input;","import React, {FC, MouseEvent} from 'react';\n\nimport classNames from './style.module.css';\n\ninterface IButton {\n    type?: \"button\" | \"submit\";\n    fullWidth?: boolean;\n    onClick?: (e: MouseEvent) => void;\n    disabled?: boolean;\n    className?: string;\n}\n\nconst Button: FC<IButton> = ({\n                                 type = \"button\",\n                                 onClick,\n                                 fullWidth,\n                                 disabled,\n                                 className,\n                                 children\n                             }) => {\n    let combinedClassName = classNames.button;\n    if (fullWidth) combinedClassName += ` ${classNames.fullWidth}`;\n    if (className) combinedClassName += ` ${className}`;\n    return (\n        <button type={type}\n                className={combinedClassName}\n                disabled={disabled}\n                onClick={onClick}>\n            {children}\n        </button>\n    );\n};\n\nexport default Button;","import React from 'react';\n\nimport classNames from \"../../style.module.css\";\n\nconst Google = () => {\n    //@ts-ignore\n    window.onSignIn = function (googleUser) {\n        const profile = googleUser.getBasicProfile();\n        console.log('ID: ' + profile.getId()); // Do not send to your backend! Use an ID token instead.\n        console.log('Name: ' + profile.getName());\n        console.log('Image URL: ' + profile.getImageUrl());\n        console.log('Email: ' + profile.getEmail()); // This is null if the 'email' scope is not present.\n    }\n    return (\n        <div className=\"g-signin2\" data-onsuccess=\"onSignIn\"/>\n    );\n};\n\nexport default Google;","import {useRef} from \"react\";\n\ntype Params<Field extends string> = Record<Field, { type: \"text\" | \"file\" | \"password\", setter?: (value: string) => void }>\n\nexport function useForm<Field extends string>(params: Params<Field>) {\n    const formData = useRef(new FormData());\n    const handleInput = (field: Field) => (value: string | FileList) => {\n        const stringValue = value as string;\n        const fileListValue = value as FileList;\n        const param = params[field];\n        if (param.type === \"file\") {\n            setAttachmentsToFormData(fileListValue, field, formData.current);\n        } else {\n            setDataToFormData(field, stringValue, formData.current);\n            if (param.setter) {\n                param.setter(stringValue);\n            }\n        }\n    }\n    const reset = () => {\n        formData.current = new FormData();\n        for (let field in params) {\n            const param = params[field];\n            if (param.setter) {\n                param.setter(\"\");\n            }\n        }\n    }\n    return {formData: formData.current, handleInput, reset};\n}\n\nfunction setDataToFormData(title: string, value: string, formData: FormData) {\n    formData.has(title) ? formData.set(title, value) : formData.append(title, value);\n}\n\nfunction setAttachmentsToFormData(fileList: FileList, field: string, formData: FormData) {\n    for (let i = 0; i < fileList.length; i++) {\n        const file = fileList.item(i) as File;\n        formData.append(field, file);\n    }\n}","export const user = {\n    login: {\n        minLength: 3,\n        maxLength: 20\n    },\n    password: {\n        minLength: 3,\n        maxLength: 20\n    }\n}\n\nexport const proposal = {\n    title: {\n        minLength: 3,\n        maxLength: 20\n    },\n    description: {\n        minLength: 0,\n        maxLength: 255\n    },\n}","import React, {FC, FormEvent, useState} from \"react\";\nimport {useDispatch, useSelector} from \"react-redux\";\nimport {Redirect, Link} from \"react-router-dom\";\n\nimport Title from \"../../components/Title\";\nimport Paragraph from \"../../components/Paragraph\";\nimport Input from \"../../components/Input\";\nimport Button from \"../../components/Button\";\nimport Google from \"./components/google/Google\";\nimport {signIn} from \"./actions\";\nimport {useForm} from \"../../hooks/useForm\";\nimport {user as userConstraints} from \"../../constants/constraints\";\nimport {routes} from \"../../constants/routes\";\nimport classNames from \"./style.module.css\";\n\nconst SignIn: FC = () => {\n    const dispatch = useDispatch();\n    const user = useSelector((state: RootState) => state.profile.userProfile);\n    const [login, setLogin] = useState(\"\");\n    const [password, setPassword] = useState(\"\");\n    const {handleInput, formData, reset} = useForm<\"login\" | \"password\">({\n        login: {\n            type: \"text\",\n            setter: setLogin\n        },\n        password: {\n            type: \"password\",\n            setter: setPassword\n        }\n    });\n    const onSignIn = (e: FormEvent) => {\n        e.preventDefault();\n        const login = formData.get(\"login\") as string;\n        const password = formData.get(\"password\") as string;\n        dispatch(signIn(login, password));\n        reset();\n    }\n    if (user !== null) return <Redirect to=\"/\"/>;\n    return (\n        <div className={classNames.container}>\n            <Title level={2}>Proposals</Title>\n            <Title level={4}>Sign In</Title>\n            <form onSubmit={onSignIn}\n                  className={classNames.form}>\n                <Input label=\"Login\"\n                       value={login}\n                       required\n                       minLength={userConstraints.login.minLength}\n                       maxLength={userConstraints.login.maxLength}\n                       onChange={handleInput(\"login\")}/>\n                <Input label=\"Password\"\n                       type=\"password\"\n                       value={password}\n                       required\n                       minLength={userConstraints.password.minLength}\n                       maxLength={userConstraints.password.maxLength}\n                       onChange={handleInput(\"password\")}/>\n                <Button type=\"submit\" fullWidth>Sign In</Button>\n            </form>\n            <Paragraph size=\"m\">New to Proposals? <Link to={routes.signUp.path}>Create an account.</Link></Paragraph>\n            <Google/>\n        </div>\n    )\n};\n\nexport default SignIn;","import {Dispatch} from \"redux\";\n\nimport {SignInAction} from \"./types\";\nimport HttpClient from \"../../httpClient\";\nimport {IUser} from \"../../types/IUser\";\nimport {GET_USER_PROFILE} from \"../Profile/actionTypes\";\n\nexport const signIn = (login: string, password: string) => async (dispatch: Dispatch<SignInAction>) => {\n    try {\n        const data = await HttpClient.post<IUser>(\"/api/user/sign-in\", {login, password});\n        dispatch({type: GET_USER_PROFILE, payload: data});\n    } catch (err) {\n        console.error(err);\n    }\n}","import React, {FC, FormEvent, useState} from 'react';\nimport {Redirect} from \"react-router-dom\";\nimport {useDispatch, useSelector} from \"react-redux\";\n\nimport {signUp} from \"./actions\";\nimport Title from \"../../components/Title\";\nimport Input from \"../../components/Input\";\nimport {useForm} from \"../../hooks/useForm\";\nimport Button from \"../../components/Button\";\nimport {user as userConstraints} from \"../../constants/constraints\";\nimport classNames from \"../SignIn/style.module.css\";\n\nconst SignUp: FC = () => {\n    const dispatch = useDispatch();\n    const user = useSelector((state: RootState) => state.profile.userProfile);\n    const [login, setLogin] = useState(\"\");\n    const [password, setPassword] = useState(\"\");\n    const {handleInput, formData, reset} = useForm<\"login\" | \"password\">({\n        login: {\n            type: \"text\",\n            setter: setLogin\n        },\n        password: {\n            type: \"password\",\n            setter: setPassword\n        }\n    });\n    const onSignUp = (e: FormEvent) => {\n        e.preventDefault();\n        const login = formData.get(\"login\") as string;\n        const password = formData.get(\"password\") as string;\n        dispatch(signUp(login, password));\n        reset();\n    }\n    if (user !== null) return <Redirect to=\"/\"/>;\n    return (\n        <div className={classNames.container}>\n            <Title level={5}>Join Proposals</Title>\n            <Title level={2}>Create your account</Title>\n            <form onSubmit={onSignUp}\n                  className={classNames.form}>\n                <Input label=\"Login\"\n                       value={login}\n                       required\n                       minLength={userConstraints.login.minLength}\n                       maxLength={userConstraints.login.maxLength}\n                       onChange={handleInput(\"login\")}/>\n                <Input label=\"Password\"\n                       type=\"password\"\n                       value={password}\n                       required\n                       minLength={userConstraints.password.minLength}\n                       maxLength={userConstraints.password.maxLength}\n                       onChange={handleInput(\"password\")}/>\n                <Button type=\"submit\" fullWidth>Create account</Button>\n            </form>\n        </div>\n    );\n};\n\nexport default SignUp;","import {Dispatch} from \"redux\";\n\nimport {SignUpAction} from \"./types\";\nimport HttpClient from \"../../httpClient\";\nimport {IUser} from \"../../types/IUser\";\nimport {GET_USER_PROFILE} from \"../Profile/actionTypes\";\n\nexport const signUp = (login: string, password: string) => async (dispatch: Dispatch<SignUpAction>) => {\n    try {\n        const data = await HttpClient.post<IUser>(\"/api/user/sign-up\", {login, password});\n        dispatch({type: GET_USER_PROFILE, payload: data});\n    } catch (err) {\n        console.error(err);\n    }\n}","import React, {FC, MouseEvent} from \"react\";\n\ntype Icons = \"like\" | \"dislike\" | \"comment\" | \"inbox\" | \"cross\" | \"user\" | \"pen\";\n\ninterface IIcon {\n    icon: Icons;\n    size?: number;\n    className?: string;\n    onClick?: (e: MouseEvent) => void;\n}\n\nconst Icon: FC<IIcon> = ({icon, size = 15, className, onClick}) => {\n    let i = null;\n    switch (icon) {\n        case \"like\":\n            i = \"\";\n            break;\n        case \"dislike\":\n            i = \"\";\n            break;\n        case \"comment\":\n            i = \"\";\n            break;\n        case \"inbox\":\n            i = \"\";\n            break;\n        case \"cross\":\n            i = \"\";\n            break;\n        case \"user\":\n            i = \"\";\n            break;\n        case \"pen\":\n            i = \"\";\n            break;\n        default:\n            return null;\n    }\n    return <span className={className}\n                 onClick={onClick}\n                 style={{fontSize: `${size}px`}}>{i}</span>\n};\n\nexport default Icon;","import React, {FC, MouseEvent} from \"react\";\n\nimport Paragraph from \"../Paragraph\";\nimport Icon from \"../Icon\";\nimport classNames from \"./style.module.css\";\n\ninterface ILike {\n    liked: boolean;\n    quantity: number;\n    like: (event: MouseEvent) => void;\n}\n\nconst Like: FC<ILike> = ({liked, quantity, like}) => {\n    return (\n        <span onClick={like} className={classNames.like}>\n            <Paragraph size=\"m\"\n                       style={{opacity: quantity > 0 ? 1 : 0}}\n                       className={classNames.quantity}>\n                {quantity || null}\n            </Paragraph>\n            {liked ? <Icon icon=\"like\"/> : <Icon icon=\"like\"/>}\n        </span>\n    );\n};\n\nexport default Like;","import React, {FC, MouseEvent} from \"react\";\n\nimport Paragraph from \"../Paragraph\";\nimport Icon from \"../Icon\";\nimport classNames from \"./style.module.css\";\n\ninterface IDislike {\n    disliked: boolean;\n    quantity: number;\n    dislike: (event: MouseEvent) => void;\n}\n\nconst Dislike: FC<IDislike> = ({disliked, quantity, dislike}) => {\n    return (\n        <span onClick={dislike} className={classNames.dislike}>\n            <Paragraph size=\"m\"\n                       style={{opacity: quantity > 0 ? 1 : 0}}\n                       className={classNames.quantity}>\n                {quantity || null}\n            </Paragraph>\n            {disliked ? <Icon icon=\"dislike\"/> : <Icon icon=\"dislike\"/>}\n        </span>\n    );\n};\n\nexport default Dislike;","import React, {FC} from 'react';\nimport Paragraph from \"../../../../components/Paragraph\";\nimport classNames from \"../../../../components/Dislike/style.module.css\";\nimport Icon from \"../../../../components/Icon\";\n\ninterface IComment {\n    quantity: number\n}\n\nconst Comment: FC<IComment> = ({quantity}) => {\n    return (\n        <span>\n            <Paragraph size=\"m\"\n                       style={{opacity: quantity > 0 ? 1 : 0}}\n                       className={classNames.quantity}>\n                {quantity || null}\n            </Paragraph>\n            <Icon icon=\"comment\"/>\n        </span>\n    );\n};\n\nexport default Comment;","import React, {FC} from \"react\";\n\nimport {ITag as TagInterface} from \"../../types/IProposal\";\nimport Paragraph from \"../Paragraph\";\nimport {classNamesCombiner} from \"../../utils\";\nimport classNames from \"./style.module.css\";\n\ninterface ITag {\n    tag: TagInterface,\n    active?: boolean\n}\n\nconst Tag: FC<ITag> = ({tag, active=true}) => {\n    const className = classNamesCombiner({\n        [classNames.tag]: true,\n        [classNames.active]: Boolean(active)\n    });\n    return (\n        <div className={className}>\n            <Paragraph size=\"m\">{`#${tag.tag}`}</Paragraph>\n        </div>\n    );\n};\n\nexport default Tag;","import React, {FC, MouseEvent} from 'react';\n\nimport {IProposalPreview} from \"../../../../types/IProposal\";\nimport Like from \"../../../../components/Like\";\nimport Dislike from \"../../../../components/Dislike\";\nimport Title from \"../../../../components/Title\";\nimport Paragraph from \"../../../../components/Paragraph\";\nimport Comment from \"../Comment/Comment\";\nimport Tag from \"../../../../components/Tag/Tag\";\nimport classNames from \"./style.module.css\";\n\ninterface IProposal {\n    proposal: IProposalPreview\n    like: (e: MouseEvent) => void;\n    dislike: (e: MouseEvent) => void;\n}\n\nconst Proposal: FC<IProposal> = ({proposal, like, dislike}) => {\n    const {\n        description,\n        title,\n        isLiked,\n        likes,\n        isDisliked,\n        dislikes,\n        commentsQuantity\n    } = proposal;\n    return (\n        <div className={classNames.proposal}>\n            <Title level={3}>{title}</Title>\n            <Paragraph size=\"m\">{description}</Paragraph>\n            <div className={classNames.actions}>\n                <Comment quantity={commentsQuantity}/>\n                <Like liked={isLiked}\n                      quantity={likes}\n                      like={like}/>\n                <Dislike disliked={isDisliked}\n                         quantity={dislikes}\n                         dislike={dislike}/>\n                <div className={classNames.tags}>{proposal.tags.slice(0, 5).map(tag => <Tag tag={tag} key={tag.tag}/>)}</div>\n            </div>\n        </div>\n    );\n};\n\nexport default Proposal;","import React, {FC, MouseEvent, useEffect} from \"react\";\nimport {Link} from \"react-router-dom\";\nimport {useDispatch, useSelector} from \"react-redux\";\n\nimport {dislikeProposal, getProposals, likeProposal, resetProposals} from \"./actions\";\nimport Proposal from \"./component/Proposal/Proposal\";\nimport {routes} from \"../../constants/routes\";\nimport classNames from './style.module.css';\n\nconst Proposals: FC = () => {\n    const dispatch = useDispatch();\n    const proposals = useSelector((state: RootState) => state.proposals.data);\n    useEffect(() => {\n        dispatch(getProposals());\n        return () => {\n            dispatch(resetProposals());\n        }\n    }, [dispatch]);\n    const like = (proposalId: number) => (e: MouseEvent) => {\n        e.preventDefault();\n        dispatch(likeProposal(proposalId))\n    }\n    const dislike = (proposalId: number) => {\n        return (e: MouseEvent) => {\n            e.preventDefault();\n            dispatch(dislikeProposal(proposalId))\n        }\n    }\n    return (\n        <ul className={classNames.container}>\n            {proposals.map(proposal => (\n                <li className={classNames.proposalWrapper} key={proposal.id}>\n                    <Link to={routes.proposal.getLinkPath(proposal.id)}>\n                        <Proposal proposal={proposal}\n                                  like={like(proposal.id)}\n                                  dislike={dislike(proposal.id)}/>\n                    </Link>\n                </li>\n            ))}\n        </ul>\n    );\n};\n\nexport default Proposals;","import {Dispatch} from \"redux\";\n\nimport {DislikeProposalAction, GetProposalsAction, LikeProposalAction, ResetProposalsAction} from \"./types\";\nimport HttpClient from \"../../httpClient\";\nimport {DISLIKE_PROPOSAL, GET_PROPOSALS, LIKE_PROPOSAL, RESET_PROPOSALS} from \"./actionTypes\";\nimport {IProposalPreview} from \"../../types/IProposal\";\n\nexport const getProposals = () => async (dispatch: Dispatch<GetProposalsAction>) => {\n    try {\n        const data = await HttpClient.get<IProposalPreview[]>(\"/api/proposals\");\n        dispatch({type: GET_PROPOSALS, payload: data});\n    } catch (err) {\n        console.error(err);\n    }\n}\n\nexport const likeProposal = (proposalId: number) => async (dispatch: Dispatch<LikeProposalAction>) => {\n    try {\n        const data = await HttpClient.post<IProposalPreview>(\"/api/proposals/like\", {proposalId}, true);\n        dispatch({type: LIKE_PROPOSAL, payload: data});\n    } catch (err) {\n        console.error(err);\n    }\n}\n\nexport const dislikeProposal = (proposalId: number) => async (dispatch: Dispatch<DislikeProposalAction>) => {\n    try {\n        const data = await HttpClient.post<IProposalPreview>(\"/api/proposals/dislike\", {proposalId}, true);\n        dispatch({type: DISLIKE_PROPOSAL, payload: data});\n    } catch (err) {\n        console.error(err);\n    }\n}\n\nexport const resetProposals = (): ResetProposalsAction => ({type: RESET_PROPOSALS});","import React, {FC} from \"react\";\n\nimport classNames from \"./style.module.css\";\n\ninterface IPreviewItem {\n    file: File;\n}\n\nconst PreviewItem: FC<IPreviewItem> = ({file}) => {\n    const objectURL = window.URL.createObjectURL(file);\n    return (\n        <div className={classNames.previewItem}>\n            <img src={objectURL}\n                 className={classNames.previewImage}\n                 alt={file.name}/>\n        </div>\n    );\n};\n\nexport default PreviewItem;","import React, {ChangeEvent, FC, useState, ReactElement} from \"react\";\n\nimport Icon from \"../Icon\";\nimport PreviewItem from \"./components/PreviewItem/PreviewItem\";\nimport classNames from \"./style.module.css\";\n\ninterface IUploader {\n    label: string;\n    multiple?: boolean;\n    onChange: (e: FileList) => void;\n}\n\nconst Uploader: FC<IUploader> = ({label, multiple, onChange}) => {\n    const [previewFiles, setPreviewFiles] = useState<FileList>();\n    const handleOnChange = (e: ChangeEvent) => {\n        const input = e.target as HTMLInputElement;\n        const files = input.files as FileList;\n        setPreviewFiles(files);\n        onChange(files);\n    }\n    const renderPreview = () => {\n        const imgs: Array<ReactElement> = [];\n        if (previewFiles !== undefined) {\n            for (let i = 0; i < previewFiles.length; i++) {\n                const file = previewFiles[i];\n                const img = <PreviewItem file={file} key={file.name}/>\n                imgs.push(img);\n            }\n        }\n        return imgs;\n    }\n    const previewItems = renderPreview();\n    return (\n        <div className={classNames.uploader}>\n            <span className={classNames.label}>{label}</span>\n            <label className={classNames.uploadZone}>\n                <input type=\"file\"\n                       multiple={multiple}\n                       className={classNames.input}\n                       onChange={handleOnChange}/>\n                <Icon icon=\"inbox\" size={30}/>\n            </label>\n            {previewItems.length !== 0 && (\n                <div className={classNames.preview}>\n                    {previewItems}\n                </div>\n            )}\n        </div>\n    );\n};\n\nexport default Uploader;","import React, {FC, FormEvent} from 'react';\n\nimport classNames from './style.module.css';\n\ninterface IForm {\n    onSubmit: () => void;\n}\n\nconst Form: FC<IForm> = ({onSubmit, children}) => {\n    const handleSubmit = (e: FormEvent) => {\n        e.preventDefault();\n        onSubmit();\n    }\n    return (\n        <form className={classNames.form} onSubmit={handleSubmit}>\n            {children}\n        </form>\n    );\n};\n\nexport default Form;","import React, {ChangeEvent, FC} from 'react';\n\nimport classNames from './style.module.css';\n\ninterface ITextarea {\n    label: string;\n    value: string;\n    required?: boolean;\n    maxLength?: number;\n    minLength?: number;\n    onChange: (value: string) => void;\n}\n\nconst Textarea: FC<ITextarea> = ({\n                                     label,\n                                     value,\n                                     required,\n                                     maxLength,\n                                     minLength,\n                                     onChange\n                                 }) => {\n    const handleOnChange = (e: ChangeEvent) => {\n        const value = (e.target as HTMLTextAreaElement).value;\n        onChange(value);\n    }\n    return (\n        <label className={classNames.wrapper}>\n            <span className={classNames.label}>{label}</span>\n            <textarea onChange={handleOnChange}\n                      className={classNames.textarea}\n                      value={value}\n                      rows={4}\n                      maxLength={maxLength}\n                      minLength={minLength}\n                      required={required}/>\n        </label>\n    );\n};\n\nexport default Textarea;","import React, {FC, KeyboardEvent, useState} from 'react';\n\nimport Paragraph from \"../Paragraph\";\nimport Icon from \"../Icon\";\nimport classNames from './style.module.css';\n\ninterface ITagInput {\n    label: string;\n    value: string[];\n    onChange: (tags: string[]) => void;\n}\n\nconst TagInput: FC<ITagInput> = ({label, value, onChange}) => {\n    const [tag, setTag] = useState('');\n    const addTag = (e: KeyboardEvent) => {\n        if (e.code === 'Enter') {\n            onChange([...value, tag]);\n            setTag('');\n        }\n    }\n    const deleteTag = (index: number) => {\n        const cloneTags = [...value];\n        cloneTags.splice(index, 1);\n        onChange(cloneTags);\n    }\n    return (\n        <label>\n            <span>{label}</span>\n            <div className={classNames.wrapper} onKeyPress={addTag}>\n                {value.map((tag, index) => {\n                    return (\n                        <div className={classNames.tag} key={tag}>\n                            <Paragraph size=\"m\">#{tag}</Paragraph>\n                            <Icon icon=\"cross\" size={10}\n                                  onClick={() => deleteTag(index)}\n                                  className={classNames.deleteTagIcon}/>\n                        </div>\n                    )\n                })}\n                <input value={tag}\n                       className={classNames.input}\n                       onChange={e => setTag(e.target.value)}/>\n            </div>\n        </label>\n    );\n};\n\nexport default TagInput;","import React, {FC, useState} from \"react\";\nimport {useDispatch} from \"react-redux\";\n\nimport {createProposal} from \"../Proposal/actions\";\nimport {useForm} from \"../../hooks/useForm\";\nimport Input from \"../../components/Input\";\nimport Button from \"../../components/Button\";\nimport Uploader from \"../../components/Uploader/Uploader\";\nimport Form from \"../../components/Form/Form\";\nimport Textarea from \"../../components/Textarea/Textarea\";\nimport {proposal} from \"../../constants/constraints\";\nimport classNames from \"./style.module.css\";\nimport TagInput from \"../../components/TagInput/TagInput\";\n\nconst CreateProposal: FC = () => {\n    const dispatch = useDispatch();\n    const [title, setTitle] = useState(\"\");\n    const [description, setDescription] = useState(\"\");\n    const [tags, setTags] = useState<string[]>([]);\n    const {formData, handleInput, reset} = useForm<\"title\" | \"description\" | \"attachments[]\">({\n        \"title\": {\n            type: \"text\",\n            setter: setTitle\n        },\n        \"description\": {\n            type: \"text\",\n            setter: setDescription\n        },\n        \"attachments[]\": {\n            type: \"file\"\n        }\n    })\n    const onCreateProposal = () => {\n        formData.set('tags', JSON.stringify(tags));\n        dispatch(createProposal(formData));\n        reset();\n    };\n    return (\n        <div className={classNames.container}>\n            <Form onSubmit={onCreateProposal}>\n                <Input label=\"Title\"\n                       value={title}\n                       required\n                       minLength={proposal.title.minLength}\n                       maxLength={proposal.title.maxLength}\n                       onChange={handleInput(\"title\")}/>\n                <TagInput label=\"Tags\"\n                          value={tags}\n                          onChange={setTags}/>\n                {/*<Input label=\"Topic\"*/}\n                {/*       value={topic}*/}\n                {/*       required*/}\n                {/*       onChange={handleInput(\"topic\")}/>*/}\n                <Textarea label=\"Description\"\n                          value={description}\n                          required\n                          minLength={proposal.description.minLength}\n                          maxLength={proposal.description.maxLength}\n                          onChange={handleInput(\"description\")}/>\n                <Uploader label=\"Attachments\"\n                          multiple\n                          onChange={handleInput(\"attachments[]\")}/>\n                <Button type=\"submit\">\n                    Create proposal\n                </Button>\n            </Form>\n        </div>\n    );\n};\n\nexport default CreateProposal;","import {Dispatch} from \"redux\";\n\nimport {\n    DislikeCommentAction,\n    GetProposalAction,\n    LeaveCommentAction,\n    LikeCommentAction,\n    SetProposalAction\n} from './types';\nimport HttpClient from \"../../httpClient\";\nimport {DISLIKE_COMMENT, GET_PROPOSAL, LEAVE_COMMENT, LIKE_COMMENT, RESET_PROPOSAL, SET_PROPOSAL} from \"./actionTypes\";\nimport {IProposal} from \"../../types/IProposal\";\nimport {IComment} from \"../../types/IComment\";\n\nexport const getProposal = (id: number) => async (dispatch: Dispatch<GetProposalAction>) => {\n    try {\n        const data = await HttpClient.get<IProposal>(`/api/proposals/${id}`);\n        dispatch({type: GET_PROPOSAL, payload: data});\n    } catch (err) {\n        console.error(err);\n    }\n}\n\nexport const createProposal = (proposalParams: FormData) => async (dispatch: Dispatch<SetProposalAction>) => {\n    try {\n        const data = await HttpClient.post<IProposal>(\"/api/proposals\", proposalParams, true);\n        dispatch({type: SET_PROPOSAL, payload: data});\n    } catch (err) {\n        console.error(err);\n    }\n}\n\nexport const leaveComment = (commentParams: FormData) => async (dispatch: Dispatch<LeaveCommentAction>) => {\n    try {\n        const data = await HttpClient.post<IComment[]>(\"/api/comments\", commentParams, true);\n        dispatch({type: LEAVE_COMMENT, payload: data});\n    } catch (err) {\n        console.error(err);\n    }\n}\n\nexport const likeComment = (commentId: number) => async (dispatch: Dispatch<LikeCommentAction>) => {\n    try {\n        const data = await HttpClient.post<IComment[]>(\"/api/comments/like\", {commentId}, true);\n        dispatch({type: LIKE_COMMENT, payload: data});\n    } catch (err) {\n        console.error(err);\n    }\n}\n\nexport const dislikeComment = (commentId: number) => async (dispatch: Dispatch<DislikeCommentAction>) => {\n    try {\n        const data = await HttpClient.post<IComment[]>(\"/api/comments/dislike\", {commentId}, true);\n        dispatch({type: DISLIKE_COMMENT, payload: data});\n    } catch (err) {\n        console.error(err);\n    }\n}\n\nexport const resetProposal = () => ({type: RESET_PROPOSAL});","import React, {ChangeEvent, FC} from 'react';\n\nimport Icon from \"../Icon\";\nimport {classNamesCombiner} from \"../../utils\";\nimport classNames from './style.module.css';\n\ninterface IAvatar {\n    src: string | null;\n    size: 's' | 'm',\n    onEdit?: (file: FileList) => void;\n}\n\nconst Avatar: FC<IAvatar> = ({src, size, onEdit}) => {\n    const className = classNamesCombiner({\n        [classNames.avatar]: true,\n        [classNames.medium]: size === \"m\",\n        [classNames.small]: size === \"s\"\n    })\n    const handleOnChange = (e: ChangeEvent) => {\n        const input = e.target as HTMLInputElement;\n        const files = input.files as FileList;\n        if (onEdit) onEdit(files);\n    }\n    return (\n        <div className={className}>\n            {onEdit && (\n                <label className={classNames.uploaderOverlay}>\n                    <Icon icon=\"pen\" size={20}/>\n                    <input type=\"file\"\n                           className={classNames.input}\n                           onChange={handleOnChange}/>\n                </label>\n            )}\n            {src !== null && <img src={src} alt={src}/>}\n        </div>\n    );\n};\n\nexport default Avatar;","import React, {FC, MouseEvent} from \"react\";\nimport {Link} from \"react-router-dom\";\n\nimport {IComment as ICommentProp} from \"../../../../types/IComment\";\nimport Like from \"../../../../components/Like\";\nimport Dislike from \"../../../../components/Dislike\";\nimport Paragraph from \"../../../../components/Paragraph\";\nimport Avatar from \"../../../../components/Avatar/Avatar\";\nimport {formatDateTime} from \"../../../../utils\";\nimport {routes} from \"../../../../constants/routes\";\nimport classNames from \"./style.module.css\";\n\ninterface IComment {\n    comment: ICommentProp\n    onLikeComment: (e: MouseEvent) => void;\n    onDislikeComment: (e: MouseEvent) => void;\n    onReplyTo: () => void;\n}\n\nconst Comment: FC<IComment> = ({comment, onLikeComment, onDislikeComment, onReplyTo}) => {\n    const {\n        author,\n        comment: text,\n        createDate,\n        isLiked,\n        isDisliked,\n        likes,\n        dislikes,\n    } = comment;\n    return (\n        <div className={classNames.comment}>\n            <div className={classNames.meta}>\n                <Avatar src={author.avatar} size=\"s\"/>\n                <Link to={routes.profile.getLinkPath(author.id)}>\n                    <Paragraph size=\"m\">{author.username}</Paragraph>\n                </Link>\n                <Paragraph size=\"m\">{formatDateTime(createDate)}</Paragraph>\n            </div>\n            <div className={classNames.text}>\n                <Paragraph size=\"m\">{text}</Paragraph>\n            </div>\n            <div className={classNames.actions}>\n                <Like quantity={likes} liked={isLiked} like={onLikeComment}/>\n                <Dislike quantity={dislikes} disliked={isDisliked} dislike={onDislikeComment}/>\n                <span onClick={onReplyTo}>Reply to</span>\n            </div>\n        </div>\n    );\n};\n\nexport default Comment;","import React, {useState, FC} from 'react';\nimport {ContentState, convertToRaw, Editor, EditorState, RichUtils} from 'draft-js';\nimport 'draft-js/dist/Draft.css';\n\nimport classNames from \"../Textarea/style.module.css\";\n\ninterface ITextareaWithFormatting {\n    label: string;\n    value: string;\n    onChange: (value: string) => void;\n}\n\nconst TextareaWithFormatting: FC<ITextareaWithFormatting> = ({\n                                                                 label,\n                                                                 value,\n                                                                 onChange\n                                                             }) => {\n    const initialEditorState = ContentState.createFromText(value);\n    const [editorState, setEditorState] = useState(EditorState.createWithContent(initialEditorState));\n    const handleChange = (editorState: EditorState) => {\n        setEditorState(editorState);\n        const currentContentState = editorState.getCurrentContent();\n        const [block] = convertToRaw(currentContentState).blocks;\n        console.log(block);\n        let formattedText = '';\n        block.inlineStyleRanges.forEach((cur) => {\n            const text = block.text;\n            const start = cur.offset;\n            const end = cur.offset + cur.length;\n            formattedText += `${text.slice(0, start)}<p>${text.slice(start, end)}</p>`\n        }, )\n        console.log(formattedText);\n        onChange(editorState.getCurrentContent().getPlainText());\n    }\n    const handleKeyCommand = (command: string, editorState: EditorState) => {\n        const newState = RichUtils.handleKeyCommand(editorState, command);\n\n        if (newState) {\n            handleChange(newState);\n            return 'handled';\n        }\n\n        return 'not-handled';\n    }\n    const _onBoldClick = () => {\n        handleChange(RichUtils.toggleInlineStyle(editorState, \"BOLD\"));\n    }\n    const _onCodeClick = () => {\n        handleChange(RichUtils.toggleCode(editorState));\n    }\n    return (\n        <label className={classNames.wrapper}>\n            <span className={classNames.label}>{label}</span>\n            <div onClick={_onBoldClick}>Bold</div>\n            <div onClick={_onCodeClick}>Code</div>\n            <div className={classNames.textarea}>\n                <Editor editorState={editorState}\n                        handleKeyCommand={handleKeyCommand}\n                        onChange={handleChange}/>\n            </div>\n        </label>\n    );\n};\n\nexport default TextareaWithFormatting;","import React, {FC, FormEvent, useState} from \"react\";\n\nimport {useForm} from \"../../../../hooks/useForm\";\nimport Input from \"../../../../components/Input\";\nimport Button from \"../../../../components/Button\";\nimport TextareaWithFormatting from \"../../../../components/TextareaWithFormatting/TextareaWithFormatting\";\n\ninterface ICreateCommentForm {\n    onCreate: (formData: FormData) => void;\n}\n\nconst CreateCommentForm: FC<ICreateCommentForm> = ({onCreate}) => {\n    const [comment, setComment] = useState(\"\");\n    const {formData, handleInput, reset} = useForm<\"commentText\" | \"attachments[]\">({\n        commentText: {\n            type: \"text\",\n            setter: setComment\n        },\n        \"attachments[]\": {\n            type: \"file\"\n        }\n    });\n    const handleSubmit = (e: FormEvent) => {\n        e.preventDefault();\n        console.log(e);\n        // onCreate(formData);\n        // reset();\n    }\n    return (\n        <form onSubmit={handleSubmit}>\n            <TextareaWithFormatting label=\"Comment\"\n                                    value={comment}\n                                    onChange={handleInput(\"commentText\")}/>\n            {/*<Button type=\"submit\">Leave comment</Button>*/}\n        </form>\n    )\n};\n\nexport default CreateCommentForm;","import {FC, ReactElement} from 'react';\nimport {useSelector} from \"react-redux\";\n\ninterface IProtected {\n    children: ReactElement\n}\n\nconst Protected: FC<IProtected> = ({children}) => {\n    const user = useSelector((state: RootState) => state.profile.userProfile);\n    return user !== null ? children : null;\n};\n\nexport default Protected;","import React, {FC} from 'react';\nimport {Link} from \"react-router-dom\";\n\nimport Paragraph from \"../../../../components/Paragraph\";\nimport Avatar from \"../../../../components/Avatar/Avatar\";\nimport {formatDateTime} from \"../../../../utils\";\nimport {routes} from \"../../../../constants/routes\";\nimport {IProposal} from \"../../../../types/IProposal\";\nimport classNames from './style.module.css';\n\ninterface IDetails {\n    proposal: IProposal;\n}\n\nconst Details: FC<IDetails> = ({proposal}) => {\n    const {\n        author,\n        createDate,\n        description\n    } = proposal;\n    return (\n        <div className={classNames.details}>\n            <div className={classNames.meta}>\n                <Avatar src={author.avatar} size=\"s\"/>\n                <Link to={routes.profile.getLinkPath(author.id)}>\n                    <Paragraph size=\"m\">{author.username}</Paragraph>\n                </Link>\n                <Paragraph size=\"m\">{formatDateTime(createDate)}</Paragraph>\n            </div>\n            <div className={classNames.text}>\n                <Paragraph size=\"m\">{description}</Paragraph>\n            </div>\n            <div className={classNames.actions}/>\n        </div>\n    );\n};\n\nexport default Details;","import React, {FC, useEffect, useState} from \"react\";\nimport {useParams} from \"react-router-dom\";\nimport {useDispatch, useSelector} from \"react-redux\";\nimport Comment from \"./components/Comment/Comment\";\n\nimport CreateCommentForm from \"./components/CreateCommentForm/CreateCommentForm\";\nimport Protected from \"../../components/Protected\";\nimport Details from \"./components/Details/Details\";\nimport {\n    getProposal,\n    leaveComment,\n    likeComment as likeCommentAction,\n    dislikeComment as dislikeCommentAction,\n    resetProposal\n} from \"./actions\";\nimport classNames from \"./style.module.css\";\n\nconst Proposal: FC = () => {\n    const dispatch = useDispatch();\n    const {id} = useParams<{ id: string }>();\n    const [parentCommentId, setParentCommentId] = useState<number | null>(null);\n    const proposal = useSelector((state: RootState) => state.proposal.data);\n    useEffect(() => {\n        dispatch(getProposal(Number(id)));\n        return () => {\n            dispatch(resetProposal());\n        }\n    }, [dispatch, id]);\n    const likeComment = (commentId: number) => () => dispatch(likeCommentAction(commentId));\n    const dislikeComment = (commentId: number) => () => dispatch(dislikeCommentAction(commentId));\n    const replyTo = (commentId: number) => () => setParentCommentId(commentId);\n    const onSubmitCreateCommentForm = (formData: FormData) => {\n        formData.append(\"proposalId\", id);\n        if (parentCommentId !== null) formData.append(\"parentCommentId\", parentCommentId.toString());\n        dispatch(leaveComment(formData));\n    }\n    if (!proposal) return <p>...loading</p>;\n    return (\n        <div className={classNames.container}>\n            <Details proposal={proposal}/>\n            <ul>\n                {proposal.comments.map(comment => (\n                    <li key={comment.id} className={classNames.comment}>\n                        <Comment comment={comment}\n                                 onLikeComment={likeComment(comment.id)}\n                                 onDislikeComment={dislikeComment(comment.id)}\n                                 onReplyTo={replyTo(comment.id)}/>\n                        {comment.id === parentCommentId && <CreateCommentForm onCreate={onSubmitCreateCommentForm}/>}\n                    </li>\n                ))}\n            </ul>\n            <Protected>\n                <CreateCommentForm onCreate={onSubmitCreateCommentForm}/>\n            </Protected>\n        </div>\n    )\n};\n\nexport default Proposal;","import React, {FC} from 'react';\n\nimport {IUser} from \"../../../../types/IUser\";\nimport classNames from './style.module.css';\nimport Paragraph from \"../../../../components/Paragraph\";\nimport Avatar from \"../../../../components/Avatar/Avatar\";\n\ninterface IViewProfile {\n    viewProfile: IUser\n}\n\nconst ViewProfile: FC<IViewProfile> = ({viewProfile}) => {\n    return (\n        <div className={classNames.container}>\n            <Avatar src={\"https://avatars.mds.yandex.net/get-ott/374297/2a000001616b87458162c9216ccd5144e94d/678x380\"} size=\"m\"/>\n            <div className={classNames.item}>\n                <Paragraph size=\"m\">Username</Paragraph>\n                <Paragraph size=\"m\">{viewProfile.username}</Paragraph>\n            </div>\n        </div>\n    );\n};\n\nexport default ViewProfile;","import React, {FC, useState} from 'react';\nimport {useDispatch} from \"react-redux\";\n\nimport {useForm} from \"../../../../hooks/useForm\";\nimport {updateProfile} from \"../../actions\";\nimport Form from \"../../../../components/Form/Form\";\nimport Input from \"../../../../components/Input\";\nimport Button from \"../../../../components/Button\";\nimport {IUser} from \"../../../../types/IUser\";\nimport classNames from \"../../style.module.css\";\nimport Avatar from \"../../../../components/Avatar/Avatar\";\n\ninterface IEditProfile {\n    userProfile: IUser\n}\n\nconst EditProfile: FC<IEditProfile> = ({userProfile}) => {\n    const dispatch = useDispatch();\n    const [login, setLogin] = useState(userProfile.login);\n    const [username, setUsername] = useState(userProfile.username);\n    const [password, setPassword] = useState(\"\");\n    const {formData, handleInput, reset} = useForm<\"login\" | \"username\" | \"password\" | \"avatar\">({\n        \"login\": {\n            type: \"text\",\n            setter: setLogin\n        },\n        \"username\": {\n            type: \"text\",\n            setter: setUsername\n        },\n        \"password\": {\n            type: \"password\",\n            setter: setPassword\n        },\n        \"avatar\": {\n            type: \"file\"\n        }\n    });\n    const onSaveSettings = () => {\n        dispatch(updateProfile(formData));\n        reset();\n    }\n    return (\n        <div className={classNames.container}>\n            <Avatar src={userProfile.avatar} size=\"m\" onEdit={handleInput(\"avatar\")}/>\n            <Form onSubmit={onSaveSettings}>\n                <Input label=\"Login\"\n                       value={login}\n                       onChange={handleInput(\"login\")}/>\n                <Input label=\"Username\"\n                       value={username}\n                       onChange={handleInput(\"username\")}/>\n                <Input label=\"New password\"\n                       type=\"password\"\n                       value={password}\n                       onChange={handleInput(\"password\")}/>\n                <Button type=\"submit\">Save new settings</Button>\n            </Form>\n        </div>\n    );\n};\n\nexport default EditProfile;","import {Dispatch} from \"redux\";\n\nimport {IUser} from \"../../types/IUser\";\nimport HttpClient from \"../../httpClient\";\nimport {GET_USER_PROFILE, GET_VIEW_PROFILE, RESET_VIEW_PROFILE} from \"./actionTypes\";\nimport {GetUserProfileAction, GetViewProfileAction} from \"./types\";\n\nexport const updateProfile = (settings: FormData) => async (dispatch: Dispatch<GetUserProfileAction>) => {\n    try {\n        const user = await HttpClient.post<IUser>(\"/api/user\", settings, true);\n        dispatch({type: GET_USER_PROFILE, payload: user});\n    } catch (err) {\n        console.error(err);\n    }\n}\n\nexport const getUserProfile = () => async (dispatch: Dispatch<GetUserProfileAction>) => {\n    try {\n        const data = await HttpClient.get<IUser>(\"/api/user\", true);\n        dispatch({type: GET_USER_PROFILE, payload: data || null});\n    } catch (err) {\n        console.error(err);\n    }\n}\n\nexport const getViewProfile = (id: number) => async (dispatch: Dispatch<GetViewProfileAction>) => {\n    try {\n        const user = await HttpClient.get<IUser>(`/api/user/${id}`);\n        dispatch({type: GET_VIEW_PROFILE, payload: user});\n    } catch (err) {\n        console.error(err);\n    }\n}\n\nexport const resetViewProfile = () => ({type: RESET_VIEW_PROFILE})","import React, {FC, useEffect} from \"react\";\nimport {useParams} from \"react-router-dom\";\nimport {useDispatch, useSelector} from \"react-redux\";\n\nimport ViewProfile from \"./components/ViewProfile/ViewProfile\";\nimport EditProfile from \"./components/EditProfile/EditProfile\";\nimport {getViewProfile, resetViewProfile} from \"./actions\";\nimport classNames from \"./style.module.css\";\n\nconst Profile: FC = () => {\n    const {id} = useParams<{ id: string }>();\n    const dispatch = useDispatch();\n    const {userProfile, viewProfile} = useSelector((state: RootState) => state.profile);\n    const isUserProfile = Number(id) === userProfile?.id;\n    useEffect(() => {\n        if (!isUserProfile) {\n            dispatch(getViewProfile(Number(id)));\n        }\n        return () => {\n            dispatch(resetViewProfile())\n        }\n    }, [dispatch, id, isUserProfile])\n    return (\n        <div className={classNames.container}>\n            {(isUserProfile && userProfile !== null) && <EditProfile userProfile={userProfile}/>}\n            {(!isUserProfile && viewProfile !== null) && <ViewProfile viewProfile={viewProfile}/>}\n        </div>\n    );\n};\n\nexport default Profile;","import {FC} from \"react\";\n\nimport SignIn from \"../pages/SignIn/SignIn\";\nimport SignUp from \"../pages/SignUp/SignUp\";\nimport Proposals from \"../pages/Proposals/Proposals\";\nimport CreateProposal from \"../pages/CreateProposal/CreateProposal\";\nimport Proposal from \"../pages/Proposal/Proposal\";\nimport Profile from \"../pages/Profile/Profile\";\n\ntype Route = {\n    path: string;\n    component: FC;\n    exact?: boolean;\n    getLinkPath: (param: number | string) => string;\n}\ntype PageName = \"signIn\" | \"signUp\" | \"proposals\" | \"createProposal\" | \"proposal\" | \"profile\";\ntype Routes = Record<PageName, Route>\n\nexport const routes: Routes = {\n    get signIn(): Route {\n        return {\n            path: \"/sign-in\",\n            component: SignIn,\n            getLinkPath: () => this.signIn.path\n        }\n    },\n    get signUp(): Route {\n        return {\n            path: \"/sign-up\",\n            component: SignUp,\n            getLinkPath: () => this.signUp.path\n        }\n    },\n    get proposals(): Route {\n        return {\n            path: \"/proposals\",\n            component: Proposals,\n            exact: true,\n            getLinkPath: () => this.proposals.path\n        }\n    },\n    get createProposal(): Route {\n        return {\n            path: `${this.proposals.path}/create`,\n            component: CreateProposal,\n            getLinkPath: () => this.createProposal.path\n        }\n    },\n    get proposal(): Route {\n        return {\n            path: `${this.proposals.path}/:id`,\n            component: Proposal,\n            getLinkPath: (id: string | number) => this.proposal.path.replace(':id', String(id))\n        }\n    },\n    get profile(): Route {\n        return {\n            path: \"/profile/:id\",\n            component: Profile,\n            getLinkPath: (id: string | number) => this.profile.path.replace(':id', String(id))\n        }\n    }\n}\n\nexport const defaultRoute = routes.proposals.path;","import React, {FC, useCallback} from \"react\";\nimport {Link, useLocation} from \"react-router-dom\";\nimport {useDispatch, useSelector} from \"react-redux\";\n\nimport {routes} from \"../../../../constants/routes\";\nimport {signOut} from \"../../actions\";\nimport Protected from \"../../../../components/Protected\";\nimport Title from \"../../../../components/Title\";\nimport Paragraph from \"../../../../components/Paragraph\";\nimport classNames from \"./style.module.css\";\n\nconst Header: FC = () => {\n    const {pathname} = useLocation();\n    const user = useSelector((state: RootState) => state.profile.userProfile);\n    const dispatch = useDispatch();\n    const onSignOut = useCallback(() => dispatch(signOut()), [dispatch])\n    if (pathname === routes.signIn.path || pathname === routes.signUp.path) return null;\n    const isUserAuthorized = user !== null;\n    return (\n        <header className={classNames.header}>\n            <div className={classNames.titles}>\n                <Link to={routes.proposals.path}>\n                    <Title level={1}>Proposals</Title>\n                </Link>\n            </div>\n            <div className={classNames.links}>\n                {!isUserAuthorized && (\n                    <Link to={routes.signIn.path}\n                          className={classNames.link}>\n                        Sign-In\n                    </Link>\n                )}\n                {!isUserAuthorized && (\n                    <Link to={routes.signUp.path}\n                          className={classNames.link}>\n                        Sign-Up\n                    </Link>\n                )}\n                <Protected>\n                    <Link to={routes.createProposal.path}\n                          className={classNames.link}>\n                        Create Proposal\n                    </Link>\n                </Protected>\n                <Protected>\n                    <Link to={routes.profile.getLinkPath(user?.id || '')}\n                          className={classNames.link}>\n                        Profile\n                    </Link>\n                </Protected>\n                <Protected>\n                    <Paragraph size=\"m\"\n                               onClick={onSignOut}\n                               className={classNames.link}>\n                        Sign Out\n                    </Paragraph>\n                </Protected>\n            </div>\n        </header>\n    );\n};\n\nexport default Header;","import React, {FC, useEffect} from \"react\";\nimport {BrowserRouter, Route, Switch, Redirect} from \"react-router-dom\";\nimport {useDispatch, useSelector} from \"react-redux\";\n\nimport Container from \"../../components/Container/Container\";\nimport Notifications from \"./components/Notifications/Notifications\";\nimport Header from \"./components/Header/Header\";\nimport {getUserProfile} from '../Profile/actions';\nimport {getTags} from \"./actions\";\nimport {routes, defaultRoute} from \"../../constants/routes\";\n\nconst Main: FC = () => {\n    const dispatch = useDispatch();\n    const user = useSelector((state: RootState) => state.profile.userProfile);\n    useEffect(() => {\n        if (user === null) {\n            dispatch(getUserProfile());\n        }\n    }, [user, dispatch]);\n    useEffect(() => {\n        dispatch(getTags());\n    }, [dispatch])\n    return (\n        <Container>\n            <Notifications/>\n            <BrowserRouter>\n                <Header/>\n                <Switch>\n                    {Object.values(routes).map(route => <Route key={route.path}\n                                                               path={route.path}\n                                                               exact={route.exact}\n                                                               component={route.component}/>)}\n                    <Redirect to={defaultRoute}/>\n                </Switch>\n            </BrowserRouter>\n        </Container>\n    );\n};\n\nexport default Main;","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport {Provider} from 'react-redux'\n\nimport Main from './pages/Main/Main';\nimport reportWebVitals from './reportWebVitals';\nimport {store} from \"./store\";\nimport './index.css';\n\nReactDOM.render(\n    <Provider store={store}>\n        <Main/>\n    </Provider>,\n    document.getElementById('root')\n);\n\nreportWebVitals();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"style_header__3K_k-\",\"titles\":\"style_titles__3DhSz\",\"links\":\"style_links__27cfr\",\"link\":\"style_link__35NKH\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"style_wrapper__c4xXE\",\"label\":\"style_label__3Ds7K\",\"textarea\":\"style_textarea__3IFSY\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"h1\":\"style_h1__2gwbt\",\"h2\":\"style_h2__377Te\",\"h3\":\"style_h3__3ibzk\",\"h4\":\"style_h4__3XZjd\",\"h5\":\"style_h5__1p03B\",\"h6\":\"style_h6__BJQSD\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"style_container__2s0bx\",\"form\":\"style_form__3nawk\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"uploader\":\"style_uploader__23CNZ\",\"label\":\"style_label__vjOfM\",\"uploadZone\":\"style_uploadZone__KKq0g\",\"input\":\"style_input__E6BUL\",\"preview\":\"style_preview__1wO7J\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"avatar\":\"style_avatar__3OsZQ\",\"medium\":\"style_medium__oXRKB\",\"small\":\"style_small__3OOnk\",\"uploaderOverlay\":\"style_uploaderOverlay__1qCEA\",\"input\":\"style_input__1Qi55\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dislike\":\"style_dislike__16NpB\",\"quantity\":\"style_quantity__MM_Oz\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"notification\":\"style_notification__1CEkF\",\"appear\":\"style_appear__3e08Z\",\"disappear\":\"style_disappear__2OnUZ\",\"error\":\"style_error__3q733\",\"message\":\"style_message__19X43\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"style_wrapper__1-0A7\",\"tag\":\"style_tag__dOeiX\",\"deleteTagIcon\":\"style_deleteTagIcon__1Ax96\",\"input\":\"style_input__YxgQs\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"comment\":\"style_comment__z7bV2\",\"meta\":\"style_meta__1l_W1\",\"actions\":\"style_actions__2Nkw_\",\"text\":\"style_text__2wWP0\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"details\":\"style_details__2i4M4\",\"meta\":\"style_meta__3hi_G\",\"actions\":\"style_actions__3TnBM\",\"text\":\"style_text__3yfFK\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"style_container__308hk\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"paragraph\":\"style_paragraph__2ltRh\",\"medium\":\"style_medium__1086Z\",\"small\":\"style_small__HvbIB\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"style_wrapper__2xb8n\",\"label\":\"style_label__ixkD_\",\"input\":\"style_input__3xfsm\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"proposal\":\"style_proposal__2LIqb\",\"actions\":\"style_actions__207qG\",\"tags\":\"style_tags__3PuXy\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"style_button__1H5Da\",\"fullWidth\":\"style_fullWidth__Kncxd\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"like\":\"style_like__1rX6n\",\"quantity\":\"style_quantity__3QBeL\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"tag\":\"style_tag__16YFw\",\"active\":\"style_active__3A26J\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"style_container__2wZVM\",\"proposalWrapper\":\"style_proposalWrapper__38Ki1\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"previewItem\":\"style_previewItem__2KRmL\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"style_container__TcLET\",\"comment\":\"style_comment__2nJqV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"style_container__1S86e\"};"],"sourceRoot":""}