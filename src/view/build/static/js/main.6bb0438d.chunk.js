(this.webpackJsonpview=this.webpackJsonpview||[]).push([[0],{138:function(e,t,n){e.exports={container:"style_container__2UoK1"}},142:function(e,t,n){e.exports={notifications:"style_notifications__2XV8j"}},143:function(e,t,n){e.exports={form:"style_form__17lpq"}},144:function(e,t,n){e.exports={container:"style_container__2FANF"}},268:function(e,t,n){},269:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n(48),c=n.n(r),s=n(4),i=n(12),o=n(11),l=n(138),u=n.n(l),p=n(0),j=function(e){var t=e.children;return Object(p.jsx)("div",{className:u.a.container,children:t})},d=n(13),b=n(8),f=n(3),h=n(2),m=n.n(h),O=n(9),x=n(145),v=n(139),g=n(140),y=n(40),_=n.n(y),k=function(){var e="",t=!1;return{setToken:function(t){e=t},getToken:function(){return e},init:function(){t=!0},isInitialized:function(){return t}}}();_.a.interceptors.request.use((function(e){return e}),(function(e){return Promise.reject(e)})),_.a.interceptors.response.use((function(e){return e.data.accessToken&&k.setToken(e.data.accessToken),e}),function(){var e=Object(O.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t,te.dispatch((n={type:"error",text:a.message},{type:C,payload:Object(f.a)(Object(f.a)({},n),{},{id:Object(x.a)()})})),e.abrupt("return",Promise.reject(t));case 2:case"end":return e.stop()}var n,a}),e)})));return function(t){return e.apply(this,arguments)}}());var w=function(){function e(){Object(v.a)(this,e)}return Object(g.a)(e,null,[{key:"getHeaders",value:function(){var e=Object(O.a)(m.a.mark((function e(t){var n,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n={},!t){e.next=8;break}if(a=k.getToken()){e.next=7;break}return e.next=6,this.getAccessToken();case 6:a=e.sent;case 7:n=Object(f.a)(Object(f.a)({},n),{},{Authorization:a});case 8:return e.abrupt("return",n);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"get",value:function(){var e=Object(O.a)(m.a.mark((function e(t){var n,a,r=arguments;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]&&r[1],e.next=3,this.getHeaders(n);case 3:return a=e.sent,e.abrupt("return",_.a.get(t,{headers:a}).then((function(e){return e.data})));case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"post",value:function(){var e=Object(O.a)(m.a.mark((function e(t,n){var a,r,c=arguments;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=c.length>2&&void 0!==c[2]&&c[2],e.next=3,this.getHeaders(a);case 3:return r=e.sent,e.abrupt("return",_.a.post(t,n,{headers:r}).then((function(e){return e.data})));case 5:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getAccessToken",value:function(){var e=Object(O.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_.a.get("/api/user/access-token");case 3:return t=e.sent,e.abrupt("return",t.data.accessToken);case 7:return e.prev=7,e.t0=e.catch(0),console.error(e.t0),e.abrupt("return","");case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),N="main/getTags",C="main/addNotification",L="main/removeNotification",P="profile/getUserProfile",S="profile/getViewProfile",I="profile/resetViewProfile",q=n(39),z=n(141),D=n(35),T={tags:[],notifications:[]},E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case N:return Object(f.a)(Object(f.a)({},e),{},{tags:t.payload});case C:return Object(f.a)(Object(f.a)({},e),{},{notifications:[].concat(Object(D.a)(e.notifications),[t.payload])});case L:var n=Array.from(e.notifications),a=n.findIndex((function(e){return e.id===t.payload}));return n.splice(a,1),Object(f.a)(Object(f.a)({},e),{},{notifications:n});default:return e}},U="proposals/getProposals",R="proposals/likeProposal",B="proposals/dislikeProposal",F="proposals/reset",K={data:[]},W=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case U:return Object(f.a)(Object(f.a)({},e),{},{data:t.payload});case R:case B:var n=e.data.findIndex((function(e){return e.id===t.payload.id})),a=Object(D.a)(e.data);return a[n]=t.payload,Object(f.a)(Object(f.a)({},e),{},{data:a});case F:return Object(f.a)({},K);default:return e}},A="proposal/getProposal",X="proposal/setProposal",Z="proposal/leaveComment",J="proposal/likeComment",M="proposal/dislikeComment",V="proposal/reset",H={data:null},Q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case A:case X:return Object(f.a)(Object(f.a)({},e),{},{data:t.payload});case Z:case J:case M:return null!==e.data?Object(f.a)(Object(f.a)({},e),{},{data:Object(f.a)(Object(f.a)({},e.data),{},{comments:t.payload})}):Object(f.a)({},e);case V:return Object(f.a)({},H);default:return e}},Y={userProfile:null,viewProfile:null},G=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case P:return Object(f.a)(Object(f.a)({},e),{},{userProfile:null!==t.payload?Object(f.a)({},t.payload):null});case S:return Object(f.a)(Object(f.a)({},e),{},{viewProfile:null!==t.payload?Object(f.a)({},t.payload):null});case I:return Object(f.a)(Object(f.a)({},e),{},{viewProfile:null});default:return e}},$=Object(q.b)({main:E,proposals:W,proposal:Q,profile:G}),ee=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||q.c,te=Object(q.d)($,ee(Object(q.a)(z.a)));function ne(e){return new Intl.DateTimeFormat(void 0,{year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric"}).format(new Date(e))}function ae(e){return Object.entries(e).reduce((function(e,t){var n=Object(b.a)(t,2),a=n[0];return n[1]&&(e+=" ".concat(a)),e}),"")}var re=n(52),ce=n.n(re),se=function(e){var t,n=e.id,r=e.type,c=e.text,i=ae((t={},Object(d.a)(t,ce.a.notification,!0),Object(d.a)(t,ce.a.error,"error"===r),Object(d.a)(t,ce.a.message,"message"===r),t)),o=Object(a.useRef)(),l=Object(s.b)(),u=Object(a.useCallback)((function(){l(function(e){return{type:L,payload:e}}(n))}),[l,n]);return Object(a.useEffect)((function(){setTimeout((function(){o.current.classList.add(ce.a.disappear),o.current.addEventListener("animationend",u,{once:!0})}),5e3)}),[l,u]),Object(p.jsx)("div",{className:i,ref:o,children:c})},ie=n(142),oe=n.n(ie),le=function(){var e=Object(s.c)((function(e){return e.main.notifications}));return Object(p.jsx)("div",{className:oe.a.notifications,children:e.map((function(e){return Object(p.jsx)(se,{id:e.id,type:e.type,text:e.text},e.id)}))})},ue=n(36),pe=n.n(ue),je=function(e){var t=e.level,n=e.children;switch(t){case 1:return Object(p.jsx)("h1",{className:pe.a.h1,children:n});case 2:return Object(p.jsx)("h2",{className:pe.a.h2,children:n});case 3:return Object(p.jsx)("h3",{className:pe.a.h3,children:n});case 4:return Object(p.jsx)("h4",{className:pe.a.h4,children:n});case 5:return Object(p.jsx)("h5",{className:pe.a.h5,children:n});case 6:return Object(p.jsx)("h6",{className:pe.a.h6,children:n});default:return null}},de=n(69),be=n.n(de),fe=function(e){var t,n=e.className,a=e.style,r=e.size,c=e.onClick,s=e.children,i=ae((t={},Object(d.a)(t,be.a.paragraph,!0),Object(d.a)(t,be.a.medium,"m"===r),Object(d.a)(t,be.a.small,"s"===r),Object(d.a)(t,n||"",Boolean(n)),t));return Object(p.jsx)("p",{className:i,style:a,onClick:c,children:s})},he=n(70),me=n.n(he),Oe=function(e){var t=e.label,n=e.type,a=void 0===n?"text":n,r=e.value,c=e.multiple,s=e.required,i=e.minLength,o=e.maxLength,l=e.onChange;return Object(p.jsxs)("label",{className:me.a.wrapper,children:[Object(p.jsx)("span",{className:me.a.label,children:t}),Object(p.jsx)("input",{type:a,value:r,multiple:c,required:s,minLength:i,maxLength:o,className:me.a.input,onChange:function(e){var t=e.target.value;l(t)}})]})},xe=n(82),ve=n.n(xe),ge=function(e){var t=e.type,n=void 0===t?"button":t,a=e.onClick,r=e.fullWidth,c=e.disabled,s=e.className,i=e.children,o=ve.a.button;return r&&(o+=" ".concat(ve.a.fullWidth)),s&&(o+=" ".concat(s)),Object(p.jsx)("button",{type:n,className:o,disabled:c,onClick:a,children:i})},ye=function(){return window.onSignIn=function(e){var t=e.getBasicProfile();console.log("ID: "+t.getId()),console.log("Name: "+t.getName()),console.log("Image URL: "+t.getImageUrl()),console.log("Email: "+t.getEmail())},Object(p.jsx)("div",{className:"g-signin2","data-onsuccess":"onSignIn"})};function _e(e){var t=Object(a.useRef)(new FormData);return{formData:t.current,handleInput:function(n){return function(a){var r=a,c=a,s=e[n];"file"===s.type?function(e,t,n){for(var a=0;a<e.length;a++){var r=e.item(a);n.append(t,r)}}(c,n,t.current):(!function(e,t,n){n.has(e)?n.set(e,t):n.append(e,t)}(n,r,t.current),s.setter&&s.setter(r))}},reset:function(){for(var n in t.current=new FormData,e){var a=e[n];a.setter&&a.setter("")}}}}var ke={minLength:3,maxLength:20},we={minLength:3,maxLength:20},Ne={minLength:3,maxLength:20},Ce={minLength:0,maxLength:255},Le=n(38),Pe=n.n(Le),Se=function(){var e=Object(s.b)(),t=Object(s.c)((function(e){return e.profile.userProfile})),n=Object(a.useState)(""),r=Object(b.a)(n,2),c=r[0],l=r[1],u=Object(a.useState)(""),j=Object(b.a)(u,2),d=j[0],f=_e({login:{type:"text",setter:l},password:{type:"password",setter:j[1]}}),h=f.handleInput,x=f.formData,v=f.reset;return null!==t?Object(p.jsx)(o.a,{to:"/"}):Object(p.jsxs)("div",{className:Pe.a.container,children:[Object(p.jsx)(je,{level:2,children:"Proposals"}),Object(p.jsx)(je,{level:4,children:"Sign In"}),Object(p.jsxs)("form",{onSubmit:function(t){t.preventDefault();var n=x.get("login"),a=x.get("password");e(function(e,t){return function(){var n=Object(O.a)(m.a.mark((function n(a){var r;return m.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,w.post("/api/user/sign-in",{login:e,password:t});case 3:r=n.sent,a({type:P,payload:r}),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),console.error(n.t0);case 10:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(e){return n.apply(this,arguments)}}()}(n,a)),v()},className:Pe.a.form,children:[Object(p.jsx)(Oe,{label:"Login",value:c,required:!0,minLength:ke.minLength,maxLength:ke.maxLength,onChange:h("login")}),Object(p.jsx)(Oe,{label:"Password",type:"password",value:d,required:!0,minLength:we.minLength,maxLength:we.maxLength,onChange:h("password")}),Object(p.jsx)(ge,{type:"submit",fullWidth:!0,children:"Sign In"})]}),Object(p.jsxs)(fe,{size:"m",children:["New to Proposals? ",Object(p.jsx)(i.b,{to:Et.signUp.path,children:"Create an account."})]}),Object(p.jsx)(ye,{})]})},Ie=function(){var e=Object(s.b)(),t=Object(s.c)((function(e){return e.profile.userProfile})),n=Object(a.useState)(""),r=Object(b.a)(n,2),c=r[0],i=r[1],l=Object(a.useState)(""),u=Object(b.a)(l,2),j=u[0],d=_e({login:{type:"text",setter:i},password:{type:"password",setter:u[1]}}),f=d.handleInput,h=d.formData,x=d.reset;return null!==t?Object(p.jsx)(o.a,{to:"/"}):Object(p.jsxs)("div",{className:Pe.a.container,children:[Object(p.jsx)(je,{level:5,children:"Join Proposals"}),Object(p.jsx)(je,{level:2,children:"Create your account"}),Object(p.jsxs)("form",{onSubmit:function(t){t.preventDefault();var n=h.get("login"),a=h.get("password");e(function(e,t){return function(){var n=Object(O.a)(m.a.mark((function n(a){var r;return m.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,w.post("/api/user/sign-up",{login:e,password:t});case 3:r=n.sent,a({type:P,payload:r}),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),console.error(n.t0);case 10:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(e){return n.apply(this,arguments)}}()}(n,a)),x()},className:Pe.a.form,children:[Object(p.jsx)(Oe,{label:"Login",value:c,required:!0,minLength:ke.minLength,maxLength:ke.maxLength,onChange:f("login")}),Object(p.jsx)(Oe,{label:"Password",type:"password",value:j,required:!0,minLength:we.minLength,maxLength:we.maxLength,onChange:f("password")}),Object(p.jsx)(ge,{type:"submit",fullWidth:!0,children:"Create account"})]})]})},qe=function(e){var t=e.icon,n=e.size,a=void 0===n?15:n,r=e.className,c=e.onClick,s=null;switch(t){case"like":s="\ud83d\udc4d";break;case"dislike":s="\ud83d\udc4e";break;case"comment":s="\ud83d\udcac";break;case"inbox":s="\ud83d\udce5";break;case"cross":s="\u274c";break;case"user":s="\ud83d\udc64";break;case"pen":s="\ud83d\udd8a\ufe0f";break;default:return null}return Object(p.jsx)("span",{className:r,onClick:c,style:{fontSize:"".concat(a,"px")},children:s})},ze=n(85),De=n.n(ze),Te=function(e){e.liked;var t=e.quantity,n=e.like;return Object(p.jsxs)("span",{onClick:n,className:De.a.like,children:[Object(p.jsx)(fe,{size:"m",style:{opacity:t>0?1:0},className:De.a.quantity,children:t||null}),Object(p.jsx)(qe,{icon:"like"})]})},Ee=n(51),Ue=n.n(Ee),Re=function(e){e.disliked;var t=e.quantity,n=e.dislike;return Object(p.jsxs)("span",{onClick:n,className:Ue.a.dislike,children:[Object(p.jsx)(fe,{size:"m",style:{opacity:t>0?1:0},className:Ue.a.quantity,children:t||null}),Object(p.jsx)(qe,{icon:"dislike"})]})},Be=function(e){var t=e.quantity;return Object(p.jsxs)("span",{children:[Object(p.jsx)(fe,{size:"m",style:{opacity:t>0?1:0},className:Ue.a.quantity,children:t||null}),Object(p.jsx)(qe,{icon:"comment"})]})},Fe=n(86),Ke=n.n(Fe),We=function(e){var t,n=e.tag,a=e.active,r=void 0===a||a,c=ae((t={},Object(d.a)(t,Ke.a.tag,!0),Object(d.a)(t,Ke.a.active,Boolean(r)),t));return Object(p.jsx)("div",{className:c,children:Object(p.jsx)(fe,{size:"m",children:"#".concat(n.tag)})})},Ae=n(71),Xe=n.n(Ae),Ze=function(e){var t=e.proposal,n=e.like,a=e.dislike,r=t.description,c=t.title,s=t.isLiked,i=t.likes,o=t.isDisliked,l=t.dislikes,u=t.commentsQuantity;return Object(p.jsxs)("div",{className:Xe.a.proposal,children:[Object(p.jsx)(je,{level:3,children:c}),Object(p.jsx)(fe,{size:"m",children:r}),Object(p.jsxs)("div",{className:Xe.a.actions,children:[Object(p.jsx)(Be,{quantity:u}),Object(p.jsx)(Te,{liked:s,quantity:i,like:n}),Object(p.jsx)(Re,{disliked:o,quantity:l,dislike:a}),Object(p.jsx)("div",{className:Xe.a.tags,children:t.tags.slice(0,5).map((function(e){return Object(p.jsx)(We,{tag:e},e.tag)}))})]})]})},Je=n(87),Me=n.n(Je),Ve=function(){var e=Object(s.b)(),t=Object(s.c)((function(e){return e.proposals.data}));Object(a.useEffect)((function(){return e(function(){var e=Object(O.a)(m.a.mark((function e(t){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w.get("/api/proposals");case 3:n=e.sent,t({type:U,payload:n}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()),function(){e({type:F})}}),[e]);var n=function(t){return function(n){n.preventDefault(),e(function(e){return function(){var t=Object(O.a)(m.a.mark((function t(n){var a;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,w.post("/api/proposals/like",{proposalId:e},!0);case 3:a=t.sent,n({type:R,payload:a}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.error(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()}(t))}},r=function(t){return function(n){n.preventDefault(),e(function(e){return function(){var t=Object(O.a)(m.a.mark((function t(n){var a;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,w.post("/api/proposals/dislike",{proposalId:e},!0);case 3:a=t.sent,n({type:B,payload:a}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.error(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()}(t))}};return Object(p.jsx)("ul",{className:Me.a.container,children:t.map((function(e){return Object(p.jsx)("li",{className:Me.a.proposalWrapper,children:Object(p.jsx)(i.b,{to:Et.proposal.getLinkPath(e.id),children:Object(p.jsx)(Ze,{proposal:e,like:n(e.id),dislike:r(e.id)})})},e.id)}))})},He=n(88),Qe=n.n(He),Ye=function(e){var t=e.file,n=window.URL.createObjectURL(t);return Object(p.jsx)("div",{className:Qe.a.previewItem,children:Object(p.jsx)("img",{src:n,className:Qe.a.previewImage,alt:t.name})})},Ge=n(41),$e=n.n(Ge),et=function(e){var t=e.label,n=e.multiple,r=e.onChange,c=Object(a.useState)(),s=Object(b.a)(c,2),i=s[0],o=s[1],l=function(){var e=[];if(void 0!==i)for(var t=0;t<i.length;t++){var n=i[t],a=Object(p.jsx)(Ye,{file:n},n.name);e.push(a)}return e}();return Object(p.jsxs)("div",{className:$e.a.uploader,children:[Object(p.jsx)("span",{className:$e.a.label,children:t}),Object(p.jsxs)("label",{className:$e.a.uploadZone,children:[Object(p.jsx)("input",{type:"file",multiple:n,className:$e.a.input,onChange:function(e){var t=e.target.files;o(t),r(t)}}),Object(p.jsx)(qe,{icon:"inbox",size:30})]}),0!==l.length&&Object(p.jsx)("div",{className:$e.a.preview,children:l})]})},tt=n(143),nt=n.n(tt),at=function(e){var t=e.onSubmit,n=e.children;return Object(p.jsx)("form",{className:nt.a.form,onSubmit:function(e){e.preventDefault(),t()},children:n})},rt=n(29),ct=n.n(rt),st=function(e){var t=e.label,n=e.value,a=e.required,r=e.maxLength,c=e.minLength,s=e.onChange;return Object(p.jsxs)("label",{className:ct.a.wrapper,children:[Object(p.jsx)("span",{className:ct.a.label,children:t}),Object(p.jsx)("textarea",{onChange:function(e){var t=e.target.value;s(t)},className:ct.a.textarea,value:n,rows:4,maxLength:r,minLength:c,required:a})]})},it=n(144),ot=n.n(it),lt=n(53),ut=n.n(lt),pt=function(e){var t=e.label,n=e.value,r=e.onChange,c=Object(a.useState)(""),s=Object(b.a)(c,2),i=s[0],o=s[1];return Object(p.jsxs)("label",{children:[Object(p.jsx)("span",{children:t}),Object(p.jsxs)("div",{className:ut.a.wrapper,onKeyPress:function(e){"Enter"===e.code&&(r([].concat(Object(D.a)(n),[i])),o(""))},children:[n.map((function(e,t){return Object(p.jsxs)("div",{className:ut.a.tag,children:[Object(p.jsxs)(fe,{size:"m",children:["#",e]}),Object(p.jsx)(qe,{icon:"cross",size:10,onClick:function(){return function(e){var t=Object(D.a)(n);t.splice(e,1),r(t)}(t)},className:ut.a.deleteTagIcon})]},e)})),Object(p.jsx)("input",{value:i,className:ut.a.input,onChange:function(e){return o(e.target.value)}})]})]})},jt=function(){var e=Object(s.b)(),t=Object(a.useState)(""),n=Object(b.a)(t,2),r=n[0],c=n[1],i=Object(a.useState)(""),o=Object(b.a)(i,2),l=o[0],u=o[1],j=Object(a.useState)([]),d=Object(b.a)(j,2),f=d[0],h=d[1],x=_e({title:{type:"text",setter:c},description:{type:"text",setter:u},"attachments[]":{type:"file"}}),v=x.formData,g=x.handleInput,y=x.reset;return Object(p.jsx)("div",{className:ot.a.container,children:Object(p.jsxs)(at,{onSubmit:function(){var t;v.set("tags",JSON.stringify(f)),e((t=v,function(){var e=Object(O.a)(m.a.mark((function e(n){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w.post("/api/proposals",t,!0);case 3:a=e.sent,n({type:X,payload:a}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}())),y()},children:[Object(p.jsx)(Oe,{label:"Title",value:r,required:!0,minLength:Ne.minLength,maxLength:Ne.maxLength,onChange:g("title")}),Object(p.jsx)(pt,{label:"Tags",value:f,onChange:h}),Object(p.jsx)(st,{label:"Description",value:l,required:!0,minLength:Ce.minLength,maxLength:Ce.maxLength,onChange:g("description")}),Object(p.jsx)(et,{label:"Attachments",multiple:!0,onChange:g("attachments[]")}),Object(p.jsx)(ge,{type:"submit",children:"Create proposal"})]})})},dt=n(42),bt=n.n(dt),ft=function(e){var t,n=e.src,a=e.size,r=e.onEdit,c=ae((t={},Object(d.a)(t,bt.a.avatar,!0),Object(d.a)(t,bt.a.medium,"m"===a),Object(d.a)(t,bt.a.small,"s"===a),t));return Object(p.jsxs)("div",{className:c,children:[r&&Object(p.jsxs)("label",{className:bt.a.uploaderOverlay,children:[Object(p.jsx)(qe,{icon:"pen",size:20}),Object(p.jsx)("input",{type:"file",className:bt.a.input,onChange:function(e){var t=e.target.files;r&&r(t)}})]}),null!==n&&Object(p.jsx)("img",{src:n,alt:n})]})},ht=n(54),mt=n.n(ht),Ot=function(e){var t=e.comment,n=e.onLikeComment,a=e.onDislikeComment,r=e.onReplyTo,c=t.author,s=t.comment,o=t.createDate,l=t.isLiked,u=t.isDisliked,j=t.likes,d=t.dislikes;return Object(p.jsxs)("div",{className:mt.a.comment,children:[Object(p.jsxs)("div",{className:mt.a.meta,children:[Object(p.jsx)(ft,{src:c.avatar,size:"s"}),Object(p.jsx)(i.b,{to:Et.profile.getLinkPath(c.id),children:Object(p.jsx)(fe,{size:"m",children:c.username})}),Object(p.jsx)(fe,{size:"m",children:ne(o)})]}),Object(p.jsx)("div",{className:mt.a.text,children:Object(p.jsx)(fe,{size:"m",children:s})}),Object(p.jsxs)("div",{className:mt.a.actions,children:[Object(p.jsx)(Te,{quantity:j,liked:l,like:n}),Object(p.jsx)(Re,{quantity:d,disliked:u,dislike:a}),Object(p.jsx)("span",{onClick:r,children:"Reply to"})]})]})},xt=n(30),vt=(n(267),function(e){var t=e.label,n=e.value,r=e.onChange,c=xt.ContentState.createFromText(n),s=Object(a.useState)(xt.EditorState.createWithContent(c)),i=Object(b.a)(s,2),o=i[0],l=i[1],u=function(e){l(e);var t=e.getCurrentContent(),n=Object(b.a)(Object(xt.convertToRaw)(t).blocks,1)[0];console.log(n);var a="";n.inlineStyleRanges.forEach((function(e){var t=n.text,r=e.offset,c=e.offset+e.length;a+="".concat(t.slice(0,r),"<p>").concat(t.slice(r,c),"</p>")})),console.log(a),r(e.getCurrentContent().getPlainText())};return Object(p.jsxs)("label",{className:ct.a.wrapper,children:[Object(p.jsx)("span",{className:ct.a.label,children:t}),Object(p.jsx)("div",{onClick:function(){u(xt.RichUtils.toggleInlineStyle(o,"BOLD"))},children:"Bold"}),Object(p.jsx)("div",{onClick:function(){u(xt.RichUtils.toggleCode(o))},children:"Code"}),Object(p.jsx)("div",{className:ct.a.textarea,children:Object(p.jsx)(xt.Editor,{editorState:o,handleKeyCommand:function(e,t){var n=xt.RichUtils.handleKeyCommand(t,e);return n?(u(n),"handled"):"not-handled"},onChange:u})})]})}),gt=function(e){e.onCreate;var t=Object(a.useState)(""),n=Object(b.a)(t,2),r=n[0],c=_e({commentText:{type:"text",setter:n[1]},"attachments[]":{type:"file"}}),s=(c.formData,c.handleInput);c.reset;return Object(p.jsx)("form",{onSubmit:function(e){e.preventDefault(),console.log(e)},children:Object(p.jsx)(vt,{label:"Comment",value:r,onChange:s("commentText")})})},yt=function(e){var t=e.children;return null!==Object(s.c)((function(e){return e.profile.userProfile}))?t:null},_t=n(55),kt=n.n(_t),wt=function(e){var t=e.proposal,n=t.author,a=t.createDate,r=t.description;return Object(p.jsxs)("div",{className:kt.a.details,children:[Object(p.jsxs)("div",{className:kt.a.meta,children:[Object(p.jsx)(ft,{src:n.avatar,size:"s"}),Object(p.jsx)(i.b,{to:Et.profile.getLinkPath(n.id),children:Object(p.jsx)(fe,{size:"m",children:n.username})}),Object(p.jsx)(fe,{size:"m",children:ne(a)})]}),Object(p.jsx)("div",{className:kt.a.text,children:Object(p.jsx)(fe,{size:"m",children:r})}),Object(p.jsx)("div",{className:kt.a.actions})]})},Nt=n(89),Ct=n.n(Nt),Lt=function(){var e=Object(s.b)(),t=Object(o.h)().id,n=Object(a.useState)(null),r=Object(b.a)(n,2),c=r[0],i=r[1],l=Object(s.c)((function(e){return e.proposal.data}));Object(a.useEffect)((function(){return e(function(e){return function(){var t=Object(O.a)(m.a.mark((function t(n){var a;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,w.get("/api/proposals/".concat(e));case 3:a=t.sent,n({type:A,payload:a}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.error(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()}(Number(t))),function(){e({type:V})}}),[e,t]);var u=function(t){return function(){return e(function(e){return function(){var t=Object(O.a)(m.a.mark((function t(n){var a;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,w.post("/api/comments/like",{commentId:e},!0);case 3:a=t.sent,n({type:J,payload:a}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.error(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()}(t))}},j=function(t){return function(){return e(function(e){return function(){var t=Object(O.a)(m.a.mark((function t(n){var a;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,w.post("/api/comments/dislike",{commentId:e},!0);case 3:a=t.sent,n({type:M,payload:a}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.error(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()}(t))}},d=function(n){var a;n.append("proposalId",t),null!==c&&n.append("parentCommentId",c.toString()),e((a=n,function(){var e=Object(O.a)(m.a.mark((function e(t){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w.post("/api/comments",a,!0);case 3:n=e.sent,t({type:Z,payload:n}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))};return l?Object(p.jsxs)("div",{className:Ct.a.container,children:[Object(p.jsx)(wt,{proposal:l}),Object(p.jsx)("ul",{children:l.comments.map((function(e){return Object(p.jsxs)("li",{className:Ct.a.comment,children:[Object(p.jsx)(Ot,{comment:e,onLikeComment:u(e.id),onDislikeComment:j(e.id),onReplyTo:(t=e.id,function(){return i(t)})}),e.id===c&&Object(p.jsx)(gt,{onCreate:d})]},e.id);var t}))}),Object(p.jsx)(yt,{children:Object(p.jsx)(gt,{onCreate:d})})]}):Object(p.jsx)("p",{children:"...loading"})},Pt=n(90),St=n.n(Pt),It=function(e){var t=e.viewProfile;return Object(p.jsxs)("div",{className:St.a.container,children:[Object(p.jsx)(ft,{src:"https://avatars.mds.yandex.net/get-ott/374297/2a000001616b87458162c9216ccd5144e94d/678x380",size:"m"}),Object(p.jsxs)("div",{className:St.a.item,children:[Object(p.jsx)(fe,{size:"m",children:"Username"}),Object(p.jsx)(fe,{size:"m",children:t.username})]})]})},qt=n(68),zt=n.n(qt),Dt=function(e){var t=e.userProfile,n=Object(s.b)(),r=Object(a.useState)(t.login),c=Object(b.a)(r,2),i=c[0],o=c[1],l=Object(a.useState)(t.username),u=Object(b.a)(l,2),j=u[0],d=u[1],f=Object(a.useState)(""),h=Object(b.a)(f,2),x=h[0],v=_e({login:{type:"text",setter:o},username:{type:"text",setter:d},password:{type:"password",setter:h[1]},avatar:{type:"file"}}),g=v.formData,y=v.handleInput,_=v.reset;return Object(p.jsxs)("div",{className:zt.a.container,children:[Object(p.jsx)(ft,{src:t.avatar,size:"m",onEdit:y("avatar")}),Object(p.jsxs)(at,{onSubmit:function(){var e;n((e=g,function(){var t=Object(O.a)(m.a.mark((function t(n){var a;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,w.post("/api/user",e,!0);case 3:a=t.sent,n({type:P,payload:a}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.error(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}())),_()},children:[Object(p.jsx)(Oe,{label:"Login",value:i,onChange:y("login")}),Object(p.jsx)(Oe,{label:"Username",value:j,onChange:y("username")}),Object(p.jsx)(Oe,{label:"New password",type:"password",value:x,onChange:y("password")}),Object(p.jsx)(ge,{type:"submit",children:"Save new settings"})]})]})},Tt=function(){var e=Object(o.h)().id,t=Object(s.b)(),n=Object(s.c)((function(e){return e.profile})),r=n.userProfile,c=n.viewProfile,i=Number(e)===(null===r||void 0===r?void 0:r.id);return Object(a.useEffect)((function(){return i||t(function(e){return function(){var t=Object(O.a)(m.a.mark((function t(n){var a;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,w.get("/api/user/".concat(e));case 3:a=t.sent,n({type:S,payload:a}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.error(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()}(Number(e))),function(){t({type:I})}}),[t,e,i]),Object(p.jsxs)("div",{className:zt.a.container,children:[i&&null!==r&&Object(p.jsx)(Dt,{userProfile:r}),!i&&null!==c&&Object(p.jsx)(It,{viewProfile:c})]})},Et={get signIn(){var e=this;return{path:"/sign-in",component:Se,getLinkPath:function(){return e.signIn.path}}},get signUp(){var e=this;return{path:"/sign-up",component:Ie,getLinkPath:function(){return e.signUp.path}}},get proposals(){var e=this;return{path:"/proposals",component:Ve,exact:!0,getLinkPath:function(){return e.proposals.path}}},get createProposal(){var e=this;return{path:"".concat(this.proposals.path,"/create"),component:jt,getLinkPath:function(){return e.createProposal.path}}},get proposal(){var e=this;return{path:"".concat(this.proposals.path,"/:id"),component:Lt,getLinkPath:function(t){return e.proposal.path.replace(":id",String(t))}}},get profile(){var e=this;return{path:"/profile/:id",component:Tt,getLinkPath:function(t){return e.profile.path.replace(":id",String(t))}}}},Ut=Et.proposals.path,Rt=n(27),Bt=n.n(Rt),Ft=function(){var e=Object(o.g)().pathname,t=Object(s.c)((function(e){return e.profile.userProfile})),n=Object(s.b)(),r=Object(a.useCallback)((function(){return n(function(){var e=Object(O.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w.get("/api/user/sign-out");case 3:t({type:P,payload:null}),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.error(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}())}),[n]);if(e===Et.signIn.path||e===Et.signUp.path)return null;var c=null!==t;return Object(p.jsxs)("header",{className:Bt.a.header,children:[Object(p.jsx)("div",{className:Bt.a.titles,children:Object(p.jsx)(i.b,{to:Et.proposals.path,children:Object(p.jsx)(je,{level:1,children:"Proposals"})})}),Object(p.jsxs)("div",{className:Bt.a.links,children:[!c&&Object(p.jsx)(i.b,{to:Et.signIn.path,className:Bt.a.link,children:"Sign-In"}),!c&&Object(p.jsx)(i.b,{to:Et.signUp.path,className:Bt.a.link,children:"Sign-Up"}),Object(p.jsx)(yt,{children:Object(p.jsx)(i.b,{to:Et.createProposal.path,className:Bt.a.link,children:"Create Proposal"})}),Object(p.jsx)(yt,{children:Object(p.jsx)(i.b,{to:Et.profile.getLinkPath((null===t||void 0===t?void 0:t.id)||""),className:Bt.a.link,children:"Profile"})}),Object(p.jsx)(yt,{children:Object(p.jsx)(fe,{size:"m",onClick:r,className:Bt.a.link,children:"Sign Out"})})]})]})},Kt=function(){var e=Object(s.b)(),t=Object(s.c)((function(e){return e.profile.userProfile}));return Object(a.useEffect)((function(){null===t&&e(function(){var e=Object(O.a)(m.a.mark((function e(t){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w.get("/api/user",!0);case 3:n=e.sent,t({type:P,payload:n||null}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}())}),[t,e]),Object(a.useEffect)((function(){e(function(){var e=Object(O.a)(m.a.mark((function e(t){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w.get("/api/proposals/tags");case 3:n=e.sent,t({type:N,payload:n}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}())}),[e]),Object(p.jsxs)(j,{children:[Object(p.jsx)(le,{}),Object(p.jsxs)(i.a,{children:[Object(p.jsx)(Ft,{}),Object(p.jsxs)(o.d,{children:[Object.values(Et).map((function(e){return Object(p.jsx)(o.b,{path:e.path,exact:e.exact,component:e.component},e.path)})),Object(p.jsx)(o.a,{to:Ut})]})]})]})},Wt=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,270)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),a(e),r(e),c(e),s(e)}))};n(268);c.a.render(Object(p.jsx)(s.a,{store:te,children:Object(p.jsx)(Kt,{})}),document.getElementById("root")),Wt()},27:function(e,t,n){e.exports={header:"style_header__3K_k-",titles:"style_titles__3DhSz",links:"style_links__27cfr",link:"style_link__35NKH"}},29:function(e,t,n){e.exports={wrapper:"style_wrapper__c4xXE",label:"style_label__3Ds7K",textarea:"style_textarea__3IFSY"}},36:function(e,t,n){e.exports={h1:"style_h1__2gwbt",h2:"style_h2__377Te",h3:"style_h3__3ibzk",h4:"style_h4__3XZjd",h5:"style_h5__1p03B",h6:"style_h6__BJQSD"}},38:function(e,t,n){e.exports={container:"style_container__2s0bx",form:"style_form__3nawk"}},41:function(e,t,n){e.exports={uploader:"style_uploader__23CNZ",label:"style_label__vjOfM",uploadZone:"style_uploadZone__KKq0g",input:"style_input__E6BUL",preview:"style_preview__1wO7J"}},42:function(e,t,n){e.exports={avatar:"style_avatar__3OsZQ",medium:"style_medium__oXRKB",small:"style_small__3OOnk",uploaderOverlay:"style_uploaderOverlay__1qCEA",input:"style_input__1Qi55"}},51:function(e,t,n){e.exports={dislike:"style_dislike__16NpB",quantity:"style_quantity__MM_Oz"}},52:function(e,t,n){e.exports={notification:"style_notification__1CEkF",appear:"style_appear__3e08Z",disappear:"style_disappear__2OnUZ",error:"style_error__3q733",message:"style_message__19X43"}},53:function(e,t,n){e.exports={wrapper:"style_wrapper__1-0A7",tag:"style_tag__dOeiX",deleteTagIcon:"style_deleteTagIcon__1Ax96",input:"style_input__YxgQs"}},54:function(e,t,n){e.exports={comment:"style_comment__z7bV2",meta:"style_meta__1l_W1",actions:"style_actions__2Nkw_",text:"style_text__2wWP0"}},55:function(e,t,n){e.exports={details:"style_details__2i4M4",meta:"style_meta__3hi_G",actions:"style_actions__3TnBM",text:"style_text__3yfFK"}},68:function(e,t,n){e.exports={container:"style_container__308hk"}},69:function(e,t,n){e.exports={paragraph:"style_paragraph__2ltRh",medium:"style_medium__1086Z",small:"style_small__HvbIB"}},70:function(e,t,n){e.exports={wrapper:"style_wrapper__2xb8n",label:"style_label__ixkD_",input:"style_input__3xfsm"}},71:function(e,t,n){e.exports={proposal:"style_proposal__2LIqb",actions:"style_actions__207qG",tags:"style_tags__3PuXy"}},82:function(e,t,n){e.exports={button:"style_button__1H5Da",fullWidth:"style_fullWidth__Kncxd"}},85:function(e,t,n){e.exports={like:"style_like__1rX6n",quantity:"style_quantity__3QBeL"}},86:function(e,t,n){e.exports={tag:"style_tag__16YFw",active:"style_active__3A26J"}},87:function(e,t,n){e.exports={container:"style_container__2wZVM",proposalWrapper:"style_proposalWrapper__38Ki1"}},88:function(e,t,n){e.exports={previewItem:"style_previewItem__2KRmL"}},89:function(e,t,n){e.exports={container:"style_container__TcLET",comment:"style_comment__2nJqV"}},90:function(e,t,n){e.exports={container:"style_container__1S86e"}}},[[269,1,2]]]);
//# sourceMappingURL=main.6bb0438d.chunk.js.map